# 问题概述
## 标题： 如果避免用户上传同名文件呢（即相同key值的文件）？

以前自己做存储的时候，是自己计算文件 hash，上传时查询如果存在的就不保存了。

现在改用七牛做存储了，看七牛上传返回的有文件 hash，但是不知道七牛的是如何计算出来的。

有没有办法在上传之前就可以知道七牛的存储空间里有没有相同的 hash 已经存在了，这样就不用向七牛上传相同的文件了，还是仍然需要自己实现这种排重计算？

## 答：

上传到七牛云存储的时候，key 是可选的。如果你不指定 key，则自动以 hash 值作为 key，此时自动带了消重能力。两个用户用同样的上传姿势上传相同的文件，最终的 key 是一样的。

