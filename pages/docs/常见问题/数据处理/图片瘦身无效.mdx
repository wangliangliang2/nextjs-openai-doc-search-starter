# 问题描述

开启图片瘦身策略或者在图片资源 url 后添加`imageslim`并未发现图片有瘦身的效果


# 问题原因 

可以参考如下几种原因排查问题

## 原因一

查看自定义加速域名是否开启了忽略 url 参数？如果开启了，请关闭忽略 url 参数以及刷新文件后在查看访问的效果。

![](https://dn-odum9helk.qbox.me/FpbzlU251Xn9GkAqF3fs0m39qB3D)


## 原因二

如果你是开启了图片瘦身策略，只能对文件名带有显著.jpg，.png 的后缀的文件有瘦身的效果。

例如：
https://url/b  这个图片瘦身是无效的，
https://url/b.jpg 这个是图片瘦身有效的。

## 原因三

这个资源本身不是图片格式，无法进行图片瘦身。您可以通过在文件名后添加`imageInfo`查看图片的元信息，如果不是图片格式，会提醒`"error": "unsupported format"`。如果是图片格式，则会返回正常的图片元信息。例如：https://url/b.jpg?imageInfo 

## 原因四

图片资源体积过大，导致图片处理超时，则返回原图。
返回原图时，可以打开浏览器的开发者模式，查看响应头，带有 response header「X-Slim-Origin」有2种取值："0": 表征内部处理正常，"1": 表征内部处理异常，返回原图

## 原因五

图片资源已损坏，这种情况一般是对象存储空间中的其他资源的图片瘦身正常，只有单独的一张或者几张图片瘦身无效。建议你更换未损坏的图片资源。

## 原因六

私有bucket 不支持 CDN中间源的图片瘦身处理。