# 问题描述

访问的资源与上传的资源不一致

# 问题原因 

## 原因一

cdn 节点缓存了相同的 url 链接，但是资源不同，比如覆盖上传文件，因为 cdn 是按照资源的 url 进行缓存，如果访问的 url 相同，那么就会命中缓存，直接返回 cdn 中的资源，而不是去源站拉取最新的资源。您可以刷新 cdn 缓存解决此问题。
如何刷新请参考：
https://developer.qiniu.com/fusion/kb/1325/refresh-the-cache-and-the-effect-of-time


## 原因二

在确保原因一描述的情况没有问题，访问的文档与上传的资源的确不一致，或者上传之前和上传之后文件的md5值不一样，建议您在上传的时候开启 crc32 校验策略（crc32 校验请参考：https://developer.qiniu.com/search?keyword=crc32 ） ，上传前会先计算本地文件的 crc32，然后和上传到七牛后文件的 crc32 进行对比，如果两者不同的话就不会保存，并且会返回 406：上传的数据 crc32 校验错误。通过 crc32 校验确保上传之前与上传之后的文件一致。


## 原因三

如果出现极少部分地区访问的资源不一致，比如内容被篡改，并且通过刷新 cdn 缓存的方式已无法解决此问题，这有可能是 cdn 节点或者用户的网络被劫持。可以提交工单并且提供以下信息，七牛工程师会帮您检查是否是 cdn 节点被劫持还是用户的自身网络被劫持。

需提供提供以下资源：

1：资源链接

2：ping下你的访问域名截图

3：dns 诊断截图(http://tools.cloudxns.net/Index/Diag)



如果是 cdn 的节点被劫持，我们会去运营商进行投诉，如果是用户自身的网络，需要用户自己去网络运营商进行投诉。运营商反馈劫持请参考：https://developer.qiniu.com/fusion/kb/2755/operator


