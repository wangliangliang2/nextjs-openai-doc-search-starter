单值图主要用来使⽤可视化显⽰单个指标值，同时支持展示趋势。

### **样式配置说明**
单值图的配置项由数据、颜色、图表样式、展示字段4部分组成

#### **数据**
数据用于选择单值图需要展示的字段相关信息

|配置项|说明|
|-|-|
|统计指标|展示的字段，可以设置其单位和精度|
|分组字段|用于将数据进行分组，分组后单值图展示的值为数据中最新值，支持多个分组字段。如果希望展示指标的趋势，则必须进行分组，通常情况想为时间字段|

#### **颜色**
颜色用于设置展示的指标字段的颜色

|配置项|说明|
|-|-|
|颜色字段|用于设置颜色的字段，默认为展示的统计指标，可以与统计指标不同|
|字段类型|颜色字段的类型，默认会根据选择的颜色字段进行自动识别，可以修改|
|颜色|具体的颜色设置。数值型字段支持根据阈值段进行颜色设置，若最小值最大值确定，可以进行自动分段。</P>非数值型可设置字段值逻辑匹配后的颜色</P>颜色的设置在您展示某些字段的分布或者高亮某些字段值时是灵活方便的|

#### **图表样式**
图表的样式配置

|配置项|说明|
|-|-|
|颜色范围|颜色的作用范围，支持作用在数值上或者整个背景上|
|趋势图|如果在数据中设置了分组，则趋势图有效，可以展示分组下的趋势，常用于展示某个时间段内指标的变化趋势|
|数值字体|数值的字体大小|
|前缀|输入显示在数字前面的文字，支持其字体大小、颜色、排列位置|
|后缀|输入显示在数字后面的文字，支持其字体大小、颜色、排列位置|



#### **展示字段**
展示字段支持用户设置一些附加的字段信息

|配置项|说明|
|-|-|
|字段位置|可选择展示在主图的下方或者上方|
|字体大小|展示字段的大小|
|字段|字体的具体设置，选择字段后支持设置字段的单位、精度、展示名称、与0对比的样式（大于/小于/等于0时的展示效果）|



### **场景示例**

1、查询今天的用户登录次数，并且展示其过去7天的登录趋势

```
repo="_internal"
| where action.name="login"
| bin _time span=1d
| stats count() as cnt by _time
| sort by _time 
| eval timetmp=toReadableTime(_time, "MM-dd")
```
![image.png](https://dn-odum9helk.qbox.me/Fsw1J4vZQXwtYn5jZNRGh2_hcqbi)

2、查询今天的用户登录失败的次数，如果出现登录失败的情况，用红色进行表示
``` 
repo="_internal"
| where action.name="login" AND response.statusName !="OK"
| stats count()
```
![image.png](https://dn-odum9helk.qbox.me/Fn9jHwLgkxaDEOZO8jMWco1YqiTq)


