### **概述**

图表是一种将数据直观化、形象化、可视化的图形结构，使数据的差异对比和变化趋势变得一目了然，有助于快速、有效地表达数据关系。
Pandora可视化图表包含丰富的图表类型，可以灵活地设置图表样式，以满足各类场景需要展示数据的不同需求。同时，图表支持通过插件APP的方式进行拓展，可以快速轻松地扩展您需要的特定图表。  

### **了解图表**  


#### **图表制作流程**
在pandora制作图表可以通过搜索命令配置或者交互式配置。

##### **搜索命令式图表配置**
搜索命令式图表配置通过数据集或者SPL做好数据处理工作（数据清洗过滤、聚合等）形成相关字段后，通过图表配置进行更直观形象的展示。大致流程如下：

1. 数据准备：通过数据集或者SPL准备好您需要的制作图表的数据，数据中需要包含您配置图表需要的所有字段信息，注意，使用此种模式时图表的配置项中不再进行任务计算和数据筛选等数据处理工作，只是通过图表展示数据。
2. 进入可视化选择需要的图表类型：点击搜索页面的可视化Tab页面，进入到图表配置界面。默认进入到网格表展示界面，此时你可以通过网格表一览所有的数据，也可以直接选择需要配置的图表类型进行配置，Pandora提供丰富的图表类型。
![image.png](https://dn-odum9helk.qbox.me/FqE_nVmI3BRj7sUfB0NdfwCIfNiU)
3. 定义图表数据和样式：根据不同的图表类型，选择不同的数据和样式配置项。另外：您可以方便地进行不同图表之间的切换，我们会自动适应您选择的数据，帮助您进行灵活的数据探索。
![image.png](https://dn-odum9helk.qbox.me/Fpt1iGnsjIfeJHz9ZlA8KMiMMlaX)
4. 添加到仪表盘或者另存为报表：配置完图表后，您可以另存为报表以便进行复用，或者添加到仪表盘中和另外的图表形成一个更完整的数据分析场景。在仪表盘的编辑模式下，对于单个图表，你也可以进行图表的切换和编辑操作。


##### **交互式图表配置**
交互式图表配置只需要通过数据集或者SPL筛选出需要的数据源，然后可以通过交互式的方式进行数据聚合、过滤等数据处理工作，同时进行图表展示。大致流程如下：
1. 数据准备：通过数据集或者SPL准备好您需要的制作图表的数据源
2. 进入可视化选择需要的图表类型：点击搜索页面的可视化Tab页面，进入到图表配置界面。选择交互式可视化
![image.png](https://dn-odum9helk.qbox.me/FgStaaZ7vjz_6cpc5BzWjFP--STN)
3. 定义图表数据：根据需要选择指标、分组、过滤条件、排序等数据配置选择。
4. 修改图表样式：点击样式选项，配置图例、颜色等样式配置项。另外：您可以方便地进行不同图表之间的切换，我们会自动适应您选择的数据，帮助您进行灵活的数据探索。
4. 添加到仪表盘或者另存为报表：配置完图表后，您可以另存为报表以便进行复用，或者添加到仪表盘中和另外的图表形成一个更完整的数据分析场景。在仪表盘的编辑模式下，对于单个图表，你也可以进行图表的切换和编辑操作。

#### **图表类型**
Pandora图表分为默认图表和自定义图表2大类。默认图表是您安装Pandora之后就可以使用的图表，自定义图表是指通过插件的方式拓展图表类型，您可以根据需要在应用商店进行下载安装，也可以自己进行开发后安装。2大类的图表你都可以在可视化模块进行选择使用。目前Pandora内置的图表有40+种，具体如下：

##### **数据表**

[数据表](/express/manual/8399/the-data-table1)是最简单的可视化图表，通过表格的形式呈现数据。

|图表名称|说明|
|-|-|
|[网格表](/express/manual/6057/table)|网格表直接呈现数据的字段和字段值信息，可以选择需要展示的字段，是可视化的默认图表。|
|[树状表](/express/manual/8401/tree-table)|树状表以树状结构的形成呈现数据结构的数据，如国家——>省份——>城市|


##### **折线图**

折线图用于显示数据在一个连续的时间间隔或者时间跨度上的变化，它的特点是反映事物随时间或有序类别而变化的趋势。
在折线图中，数据是递增还是递减、增减的速率、增减的规律（周期性、螺旋性等）、峰值等特征都可以清晰地反映出来。所以，折线图常用来分析数据随时间的变化趋势，也可用来分析多组数据随时间变化的相互作用和相互影响。
根据使用场景的不同。还可以细分为折线图、堆积折线图、百分比折线图。
面积图又叫区域图。 它是在折线图的基础之上形成的, 它将折线图中折线与自变量坐标轴之间的区域使用颜色填充，这样一个填充区域我们叫做面积，颜色的填充可以更好的突出趋势信息。
和折线图一样，面积图也用于强调数量随时间而变化的程度，也可用于引起人们对总值趋势的注意。他们最常用于表现趋势和关系,而不是传达特定的值。
根据使用场景的不同。还可以细分为面积图、堆积面积图、百分比折面积图。
折线图和面积图都可以表示一段时间（或者有序分类）的趋势，相比之下面积图的表现力更强一些。

[折线图](/express/manual/6048/line_chart)

|图表名称|说明|使用场景|
|-|-|-|
|折线图|普通的折线图，呈现数据随类别的变化，所有的数据都从相同的零轴开始。分组后每一条折线呈现每个分组结果的趋势|呈现变化趋势|
|堆积折线图|每一个数据集的起点不同，都是基于前一个数据集。显示多组数值的趋势以及总数，除了呈现每组数据的变化趋势，更需要呈现总数。堆叠起来的折线图在表现大数据的总量分量的变化情况时格外有用|呈现趋势以及总量|
|百分比折线图|显示多组数据占总数比例的趋势，可强调每个系列的比例趋势线|强调每个系列的比例趋势线|

[面积图](/express/manual/8380/the_area_chart)

|图表名称|说明|使用场景|
|-|-|-|
|面积图|普通的面积图，呈现数据随类别的变化，所有的数据都从相同的零轴开始。分组后每个区域呈现每个分组结果的趋势|呈现变化趋势|
|堆积面积图|每一个数据集的起点不同，都是基于前一个数据集。显示多组数值的趋势以及总数，除了呈现每组数据的变化趋势，更需要呈现总数。堆叠起来的区域图在表现大数据的总量分量的变化情况时格外有用|呈现趋势以及总量|
|百分比面积图|显示多组数据占总数比例的趋势，可强调每个系列的比例趋势线|强调每个系列的比例趋势线|



##### **柱形图**

柱形图使用垂直或水平的柱子显示类别之间的数值比较。其中一个轴表示需要对比的分类维度，另一个轴代表相应的数值。
纵向柱形图的柱子方向垂直，简称柱形图。横向柱形图的柱子方向水平，称为条形图。
柱形图适合应用到分类数据的对比，不适合表示趋势。注意：当分类过多的时候使用条形图（横向柱形图）而并非柱形图（纵向柱形图），因为条形图的文本可以横向排布，便于用户的阅读。
根据使用场景的不同。还可以细分为簇状柱形图、堆积柱形图、百分比柱形图、簇状条形图、堆积条形图、百分比条形图。

[柱形图](/express/manual/6049/bar_chart)

|图表名称|说明|使用场景|
|-|-|-|
|簇状柱状图|基础的柱形图，呈现数据的分类情况。分组后每种颜色的柱子呈现每个分组的结果|呈现对比数据|
|堆积柱状图|基础柱形图的扩展形式，将每根柱子进行分割，以显示大类目下的细分类目占比情况，可以展示更多维度的数据：大类目之间的数值比较、大类目下各细分类目的占比情况、不同大类目下同一细分类目的横向数值比较。是一种既可以直观地看出每个指标的值，还能够反映出维度总和的图表|展示多维数据，呈现分类以及每个分类下的详细类别情况|
|百分比柱状图|柱子的各个层代表的是该类别数据占该分组总体数据的百分比，每个系列按照所占的百分比进行堆积，这样就能直观的看出每个系列所占的比重。|展示多维数据，强度每个分类下的详细类别占比情况|

[条形图](/express/manual/8382/the-bar-chart)
|图表名称|说明|使用场景|
|-|-|-|
|簇状条形图|基础的条形图，呈现数据的分类情况。分组后每种颜色的柱子呈现每个分组的结果|呈现对比数据|
|堆积条形图|基础条形图的扩展形式，将每根柱子进行分割，以显示大类目下的细分类目占比情况，可以展示更多维度的数据：大类目之间的数值比较、大类目下各细分类目的占比情况、不同大类目下同一细分类目的横向数值比较。是一种既可以直观地看出每个指标的值，还能够反映出维度总和的图表|展示多维数据，呈现分类以及每个分类下的详细类别情况|
|百分比条形图|柱子的各个层代表的是该类别数据占该分组总体数据的百分比，每个系列按照所占的百分比进行堆积，这样就能直观的看出每个系列所占的比重。|展示多维数据，强度每个分类下的详细类别占比情况|

##### **组合图**
[组合图](/express/manual/8383/combination-of-figure)通过在一个图表内使用柱形图和折线图的组合，绘出多个数据序列。组合图对于突出显示各种数据序列之间的关系非常有用。
组合图根据折线图是否绘制新的Y轴，分为簇状柱形图+折线图、簇状柱形图+次坐标轴上的折线图

|图表名称|说明|使用场景|
|-|-|-|
|[簇状柱形图+折线图](/express/manual/8384/clusters-of-bar-charts-line-chart)|由簇状柱形图+折线图组合组成，两个图形合用一个Y轴。分组只针对簇状柱形图进行分组|适用于既需要组合图表示序列的分类有需要表示趋势的场景，且两者的数据大小类似|
|[簇状柱形图+次坐标轴折线图](/express/manual/8385/clusters-of-bar-charts-time-axis-line-chart)|由簇状柱形图+次坐标轴上的折线图组合组成，簇状柱形图使用左边的Y轴，折线图使用右边的Y轴。分组只针对簇状柱形图进行分组|适用于既需要组合图表示序列的分类有需要表示趋势的场景，且两者的数据大小由较大的差异|

##### **饼图**
[饼图](/express/manual/8389/the-pie-chart1)用于表示不同分类的占比情况，通过弧度大小来对比各种分类。饼图通过将一个圆饼按照分类的占比划分成多个区块，整个圆饼代表数据的总量，每个区块表示该分类占总体的比例大小，所有区块的加和等于100%。
饼图分为分组饼图、指标饼图、旭日图三类。
[分组饼图](/express/manual/6050/field_pie)将分组字段的字段值作为饼图的扇区。

|图表名称|说明|使用场景|
|-|-|-|
|饼图（分组）|表示不同分类的占比情况，通过弧度大小来对比各种分类|呈现大于1个不超过9个分类的占比情况|
|环图（分组）|本质是饼图将中间区域挖空|展示分类的占比情况，尤其在进行同种分类下不同指标的对比时，两个饼图直接进行比较是非常不直观的，两个环图间可以通过环状条长度进行简单的对比|
|玫瑰图（分组）|在极坐标下绘制的柱状图，使用圆弧的半径长短表示数据的大小（数量的多少）|适用于分类较多的场景（10-30条数据）；由于半径和面积的关系是平方的关系，玫瑰图会将数据的比例大小夸大，尤其适合对比大小相近的数值；由于圆形有周期的特性，所以玫瑰图也适用于表示一个周期内的时间概念，比如星期、月份|

[指标饼图](/express/manual/6250/metric_pie)的用法与分组饼图的用法类似，区别是指标饼图的扇区由不同指标构成。

|图表名称|说明|使用场景|
|-|-|-|
|饼图（指标）|表示不同分类的占比情况，通过弧度大小来对比各种分类|呈现大于1个不超过9个分类的占比情况|
|环图（指标）|本质是饼图将中间区域挖空|展示分类的占比情况，尤其在进行同种分类下不同指标的对比时，两个饼图直接进行比较是非常不直观的，两个环图间可以通过环状条长度进行简单的对比|
|玫瑰图（指标）|在极坐标下绘制的柱状图，使用圆弧的半径长短表示数据的大小（数量的多少）|适用于分类较多的场景（10-30条数据）；由于半径和面积的关系是平方的关系，玫瑰图会将数据的比例大小夸大，尤其适合对比大小相近的数值；由于圆形有周期的特性，所以玫瑰图也适用于表示一个周期内的时间概念，比如星期、月份|

[旭日图](/express/manual/6254/rising_sun)用于展示多个层级的占比情况。
|图表名称|说明|使用场景|
|-|-|-|
|旭日图|表现层级数据的图表。它以父子层次结构来显示数据，并构成一个同心圆，离原点越近，数据的层级越高。|呈现多层级数据占比情况|



##### **指标图**

[指标图](/express/manual/8390/indicator-diagram)主要用于直观呈现单个/多个指标的值，主要分为单指标图和多指标图
[单指标图](/express/manual/8391/single-index-figure)用于呈现单个指标

|图表类型|说明|
|-|-|
|[单值图](/express/manual/6054/figure_singlevalue)|单值图用来使⽤单值可视化显⽰⼀个指标，同时支持展示其趋势。|
|[仪表单值图](/express/manual/6249/single-value-chart)|仪表单值图一般用来统计指标状态和范围信息，设置好颜色对应的数值范围,您可以快速读出数值意义，如蓝色代表数值处于正常范围，黄色代表数值偏高，红色代表数值过高。|
|[占比图](/express/manual/6253/proportion)|占比图一般用来展示指标为占比值的统计信息，如在线率、合格率等。|

[多指标图](/express/manual/8392/the-multi-target-figure)用于呈现多个指标

|图表类型|说明|
|-|-|
|[状态矩阵](/express/manual/6063/status_panel)|状态矩阵图通过紧密排布的小面板展示用户关心指标的状态，并通过面板的颜色标记每个指标的严重性。例如通过状态矩阵图来监控服务器指标，通过面板颜色即可得知服务器的健康情况并快速定位到异常指标。|
|[指标看板](/express/manual/8409/indicators-of-kanban)|指标看板可以一目了然地展示多个数据指标，以方便您及时掌握现状，从而快速制定并实施应对措施。|


##### **地图**

[地图](/express/manual/8393/the-map)使用地理区域作为背景，通过可视化的方法客观实际地反映数据在不同地理区域上的分布情况。
地图分为色彩地图、气泡地图和经纬地图三类

[色彩地图](/express/manual/8396/color-map)通过在地图分区上使用视觉符号（在这里是颜色渐变）来表示一个范围值的分布情况，从而反映各区现象的集中程度或发展水平的分布差别。

|图表名称|使用场景|
|-|-|
|色彩地图（中国）|用颜色深浅表示中国地理范围内的数据大小及分布情况|
|色彩地图（世界）|用颜色深浅表示世界地理范围内的数据大小及分布情况|

[气泡地图](/express/manual/8397/bubble-map)将气泡展示在指定的地理区域内，气泡的面积代表了指标数值的大小，适用于展示带地理信息的数据并比较数据大小。
|图表名称|使用场景|
|-|-|
|气泡地图（中国）|用气泡大小表示中国地理范围内的数据大小及分布情况|
|气泡地图（世界）|用气泡大小表示世界地理范围内的数据大小及分布情况|

[经纬地图](/express/manual/9791/jinwei-map)通过经纬度定位并展示数据位置，从而反映数据分布情况。

|图表名称|使用场景|
|-|-|
|[经纬地图（气泡）](/express/manual/9792/jinwei-map-bubble)|用于展示带经纬度信息的数据并比较数据大小|
|[经纬地图（路径）](/express/manual/9793/jinwei-map-path)|用路径连接指定的经纬度坐标，常用于汽车行驶轨迹跟踪等场景|

##### **关系图**
[关系图](/express/manual/6065/relation)用可视化的方法显示数据之间相互关系。 使用图形的嵌套和位置表示数据之间的关系，通常用于表示数据之间的前后顺序、父子关系以及相关性。

|图表|说明|
|-|-|
|[桑基图](/express/manual/6064/sankey)|桑基图是一种特定类型的流图，用于描述一组值到另一组值的流向，适用于分析网络流量流向等场景。|
|[关系图](/express/manual/8395/the-diagram1)|关系图用节点表示对象，节点沿某个线性轴或环状排列，用圆弧表示节点之间的链接关系。通常用来表达数据之间的关系以及关系的重要性。|
|[迁徙图](/express/manual/6062/migration)|迁徙图是在地图中动态、实时地展示数据的迁徙轨迹和迁徙量级，直观查看数据的来源和去向。常用于流量监控、安全攻击来源监控等场景。|



##### **其他**
[其他类](/express/manual/8400/other-class-diagram)图表展示未分类的所有图表。

|图表|说明|
|-|-|
|[雷达图](/express/manual/6055/radar)|雷达图通常用来分析多维数据。分为雷达图（分组）和雷达图（指标），雷达图（分组）将分组字段值映射到不同的坐标轴上，同一个分组的数据点用线连接起来形成一个多边形(圆)，雷达图（指标）将不同的指标字段映射到不同的坐标轴上。|
|[时间轴](/express/manual/6252/timeline)|时间轴图表类型可用来对时间线上的多个离散事件进行可视化展示，通常用来对基于时间发展的事件进行有序展示，比如通过时间轴跟踪事务的进展（持续时间、完成情况等）。每个事件在时间轴上表现为一个带颜色的矩形，矩形的长度反映了事件的持续时间。|
|[富文本](/express/manual/6060/RTF)|富文本图表类型通常用来对仪表盘进行注释，或者给查看仪表盘的用户做出文字提示等。您可以在富文本图表类型中添加文字、图像、视频等。|
|[异常检测图](/express/manual/6247/anomaly-detection-figure)|异常检测图是一种特殊的图表类型，它通常与分析算法相关联。比如在搜索栏输入筛选异常值算法，找出数据中的异常指标，并通过异常检测图展示异常值。|
|[富文本](/express/manual/6060/RTF)|富文本图表类型通常用来对仪表盘进行注释，或者给查看仪表盘的用户做出文字提示等。您可以在富文本图表类型中添加文字、图像、视频等。|
|[胶囊柱形图](/express/manual/6690/capsule_histogram)|胶囊柱形图图是一种特殊的柱状图，通过柱子上的进度条表示指标的占比情况。一般用来展示指标为占比值的统计信息，如在线率、合格率等。|




#### **自定义图表**
Pandora支持通过APP的形式扩展图表，对于扩展的图表，你可以在图表类型的自定义分类下找到进行使用。
![image.png](https://dn-odum9helk.qbox.me/FhOBfCgMBf1bq3vG7oYhQykvQB2J)
对于开发自己的可视化类型APP在平台新增一种自定义图表类型来展示数据分析结果，可参考[自定义图表手册](/express/6702/visualization_app_develop)


 



