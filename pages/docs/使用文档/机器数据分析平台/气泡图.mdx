气泡图是显示变量之间相关性的图表，类似于散点图，X 和 Y 轴分别代表不同的两个维度的数据，但是不同于散点图的是，气泡图增加了第三个维度，气泡的大小代表第三个维度数值的大小。也可以使用不同的颜色来区分分类数据。通常可以通过气泡的位置以及大小比较不同类别气泡之间的关系。

### **样式配置说明**
散点图的样式配置项由X轴、Y轴、气泡大小、分组、图例、图表样式、颜色7部分组成

#### **X轴**
X轴用于配置图表的X轴相关信息

|配置项|说明|
|-|-|
|字段|X轴的字段，只能选择单个字段|
|坐标轴名称|坐标轴名称是否显示设置，默认显示X轴字段，可手动修改|
|X轴类型|默认根据选择的X轴字段进行自动识别，可修改。对于X轴为线性、对数、时间类型的可以设置其轴的最小值和最大值|
|刻度间隔|表示Y轴刻度间隔的方式，可以设置等分的分数或者固定间隔|
|数值精度|X轴的数值单位|
|数值单位|X轴的数值精度|
|数值单位|默认根据选择的X轴字段进行自动识别，可修改。对于X轴为线性、对数、时间类型的可以设置其轴的最小值和最大值|
|轴标签显示|标签的显示方式，当标签过多时最好选择自适应|
|标签旋转|标签的旋转方式，可以帮助您更美观地展示标签|


#### **Y轴**
Y轴用于配置图表的Y轴相关信息

|配置项|说明|
|-|-|
|字段|Y轴的字段，只能选择单个字段|
|坐标轴名称|坐标轴名称是否显示设置，默认显示Y轴字段，可手动修改|
|Y轴类型|默认根据选择的X轴字段进行自动识别，可修改。对于X轴为线性、对数、时间类型的可以设置其轴的最小值和最大值|
|最小值|不填写则自动，表示Y轴的最小值|
|最大值|不填写则自动，表示Y轴的最大值|
|刻度间隔|表示Y轴刻度间隔的方式，可以设置等分的分数或者固定间隔|
|数值精度|Y轴的数值单位|
|数值单位|Y轴的数值精度|

#### **气泡大小**
气泡大小用于配置气泡相关配置

|配置项|说明|
|-|-|
|气泡大小字段|决定气泡显示大小的字段|
|数值精度|气泡的数值单位|
|数值单位|气泡的数值精度|
|零值显示|对于数值为0的数据，是否显示气泡|

#### **分组**
分组用于将数据进行分组，支持多个分组字段。会根据配置字段的取值生成不同颜色的点


#### **图例**
图例用于配置图表图图例相关信息

|配置项|说明|
|-|-|
|图例位置|图例展示的位置|

#### **图表样式**
图表样式用于配置图表样式相关信息

|配置项|说明|
|-|-|
|气泡直径|用于配置气泡显示大小的配置。动态值表示根据气泡字段值的最小值设置最小直径，最大值设置最大直径。固定值方式表示可设置固定字段值的气泡直径大小|

#### **颜色**
颜色用于设置散点的颜色，支持选择颜色模板，即选择系统定义好的不同风格的配色方案，也支持修改单个散点类别的颜色。对于某些需要强调颜色的分组，可以自定义颜色，如error用红色表示



### **场景示例**

1、查询最近7天登录与搜索之间的关系，且根据登录失败错误次数设置气泡的大小
```
repo="_internal"
| where action.name="login"
| eval response.statusName=if(response.statusName="OK",0,1) 
| timechart span=1h count() as login,sum(response.statusName) as login_error
| join type=left _time [ repo="_internal"
| where action.name="search"
| eval response.statusName=if(response.statusName="OK",0,1) 
| timechart span=1h count() as search,sum(response.statusName) as search_error]
```
- X轴选择login，Y轴选择search,气泡字段选择login_error，绘制气泡图
- X轴、Y轴的轴类型选择线性，气泡的零值显示选择显示
![image.png](https://dn-odum9helk.qbox.me/Fst5IjNufqYumg4s2upbQfKVht3F)
