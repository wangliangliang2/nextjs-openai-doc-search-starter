气泡图是显示变量之间相关性的图表，类似于散点图，X 和 Y 轴分别代表不同的两个维度的数据，但是不同于散点图的是，气泡图增加了第三个维度，气泡的大小代表第三个维度数值的大小。也可以使用不同的颜色来区分分类数据。通常可以通过气泡的位置以及大小比较不同类别气泡之间的关系。

![](https://pandora-kibana.qiniu.com/report/bubble_chart1.png)

**使用步骤**

1.在搜索栏输入搜索条件，点击右侧的查询按钮；

2.在选择图表类型为气泡图；

3.`指标与分组`配置里配置好需要显示的分组字段与指标；

4.设置图表样式，选择 x 轴、y 轴、标记大小、标记颜色的字段或指标。

**气泡图样式设置**

|配置项|说明|
|:-:|:-:|
|图例位置|图例在图表中的位置，可以配置为上、下、左、右和无|
|x 轴|标签旋转：x 轴标签可旋转展示，当 x 轴标签特别多时使用此功能可让图表更易阅读</br>标签显示：自适应显示：使得 label 没有重叠，可能会省略部分 label； 全部显示：强制显示所有的 label，可能会出现 label 重叠的现象； 隐藏：隐藏 label</br>x 轴显示字段：显示在 x 轴的分组字段或指标</br>数值单位：对数值的显示单位进行切换|
|y 轴|y 轴显示字段：显示在 y 轴的分组字段或指标</br>数值单位：对数值的显示单位进行切换|
|大小|标记大小字段：除了 x 轴字段和 y 轴字段，气泡图支持标识气泡大小的指标值</br>数值单位：对数值的显示单位进行切换</br>气泡最小直径：限制气泡显示的最小直径</br>气泡最大直径：限制气泡显示的最大直径</br>零值显示：隐藏数值为 0 的指标|
|颜色|标记颜色字段：除了 x 轴字段和 y 轴字段，可新增一个字段用于区分不同分类数据|

**示例1：分类对比数据**

统计不同 agent 的日志计数。在样式设置里，设置 x 轴显示字段为 agent_id，颜色字段为 agent_id，y 轴显示为计数指标，大小字段为计数指标，用柱状图可以做同类的分析，但气泡图能达到更好的视觉效果。

![](https://pandora-kibana.qiniu.com/report/bubble_chart4.png)

**示例2：分析数据的相关性**

在下图中，通过将 cpu__usage_system 的平均值映射为气泡的大小，设置 x 轴字段为 cpu__usage_idle，y 轴字段为 cpu__usage_user，可以看出 cpu__usage_user 和 cpu__usage_idle 之间大致呈负相关的关系。

![](https://pandora-kibana.qiniu.com/report/bubble_chart2.png)

除了大小的映射之外，我们还可以为每个气泡添加上颜色属性（agent_id），这时候气泡图就为我们完美得展示了四个维度的数据。可以看出 cpu__usage_user 和 cpu__usage_idle 之间大致呈负相关的关系，而且 cpu__usage_system 大的平均值集中在蓝色气泡代表的 agent 上。

![](https://pandora-kibana.qiniu.com/report/bubble_chart3.png)



