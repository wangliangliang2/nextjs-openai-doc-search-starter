请您按照以下步骤快速创建转码任务。



**步骤1：注册与登录**

1. 注册七牛云账号并完成实名认证。
2. 登录七牛控制台。



**步骤2：创建bucket**

由于多媒体文件处理是对您上传到 Kodo 上的视频文件进行转码和截图等处理的服务，所以您需要在 Kodo 控制台上创建 Bucket。详细文档请参考 [新建存储空间](https://developer.qiniu.com/kodo/manual/4263/operational-guidelines-for-the-new-bucket)。如果已存在 Bucket ，则跳过此步骤。

**步骤3：上传视频**

1. 单击左侧导航栏的【对象存储】。
2. 单击对应的存储空间，上传需要处理的视频文件。如果已经存在待处理文件，则跳过此步骤。


**步骤4：创建任务**

1. 登录【智能多媒体控制台】，在左侧菜单栏点击 **任务** ，进入任务列表页。

2. 点击左上角 **添加任务** 按钮，进入添加任务页面，您需要选择指定对象（空间、对象）、设置任务定义。

   ![img](https://dora-doc.qiniu.com/WX20201217-171148.png)  

   ​	

**i. 空间和对象**

- 选择指定 bucket 中的多媒体文件。

**ii.任务定义** ->选择工作流模板

- 选择提前设置好的 **工作流**，则无需再进行配置。

  ![img](https://dora-doc.qiniu.com/WX20201217-171316.png)

**iii.任务定义 ->快速自定义工作流**

- 从开始单击【+】键，添加处理节点，支持的有：普通转码、锐智转码、视频拼接、截图、音视频信息、执行条件、输出。

  ![img](https://dora-doc.qiniu.com/WX20201207-155846.png)

- 添加 **普通转码** 节点

  **A.方式一：** 选择 **普通转码->预设集** 。

  ![img](https://dora-doc.qiniu.com/WX20201208-095811.png)

  > - 选择普通转码预设：必填项，分为系统预设、自定义预设
  > - 使用水印：选填项，选择是否对视频设置水印
  > - 点击【关闭】，节点配置完成

   **B.方式二：** 选择 **普通转码->自定义预设** 

  ![img](https://dora-doc.qiniu.com/WX20201217-172115.png)

  > 当预设参数无法满足您的需求时，可以直接通过自定义的方式来配置节点。
  >
  > - **转码设置**：跟普通转码预设的配置一样，可参考 [普通转码参数详情](https://developer.qiniu.com/dora/manual/6492/transcoding-preset)
  > - **水印设置**：默认关闭，点击 **开启** 后，可自定义水印参数
  > - 点击【关闭】，节点配置完成

- 添加 **输出** 节点

  **1）单输出**，普通转码->mp4。

  ![img](https://dora-doc.qiniu.com/WX20201208-100531.png)

  > - **输出空间**：必填项，处理完成后新生成文件将存储在该空间中。
  >
  > - **输出文件名**，支持以下两种命名方式：
  >
  >   a.  **前缀+后缀** ： 至少填写1个
  >
  >   b. **魔法变量**：点击【切换自定义文件名】
  >
  >   - 支持[魔法变量](https://developer.qiniu.com/kodo/manual/1235/vars#magicvar)或自定义字符串。魔法变量引用格式为 {{.var}} ，魔法变量仅支持 bucket、key、fname、fprefix、ext、count。
  >   - 注：**count** 为六个占位符的数字串，不足位的填充前导零即`%06d`，如 `000001`。最后得到类似：qiniu000000,qiniu000001,……,qiniu000006命名的ts文件。 
  >
  >   ​

  **2）多输出**，普通转码->m3u8。

  ![img](https://dora-doc.qiniu.com/WX20201208-115255.png)

  > - **输出空间**：必填项，处理完成后新生成文件将存储在该空间中。
  >
  > - **输出文件名**，支持以下两种命名方式：
  >
  >   a.  **前缀+后缀** ： 至少填写1个
  >
  >   b. **魔法变量**：点击【切换自定义文件名】
  >
  >   - 支持[魔法变量](https://developer.qiniu.com/kodo/manual/1235/vars#magicvar)或自定义字符串。魔法变量引用格式为 {{.var}} ，魔法变量仅支持 bucket、key、fname、fprefix、ext、count。
  >   - 注：**count** 为六个占位符的数字串，不足位的填充前导零即`%06d`，如 `000001`。最后得到类似：qiniu000000,qiniu000001,……,qiniu000006命名的ts文件。 

  ​

6. 所有任务参数填写完成后，点击 **保存**，即任务创建成功。




**步骤5：查看进度和结果**

1. 任务处理完成后，在 **任务->任务列表** 中，查看任务的处理结果。![img](https://dora-doc.qiniu.com/WX20201218-090954.png)


3. 点击【任务ID】，查看任务详情。

   ![img](https://dora-doc.qiniu.com/WX20201218-090859.png)

- 点击【子节点】，可查看子节点处理详情。内容和示例如下。

  > 1、【子任务ID】：每个子节点会有单独任务id
  >
  > 2、【执行状态】：
  >
  > - **已提交**：提交到队列中，还未处理的任务
  >
  >
  > - **处理中**：正在处理
  > - **成功**：子节点任务处理成功
  > - **失败**：子节点任务处理失败
  > - **跳过**：执行条件处理后，不在条件范围里的，就会跳过下一节点不处理
  > - **无效**：父节点处理失败，不会流转处理下一节点，此时子节点无效
  >
  > 3、【配置详情】：每个子节点的参数详情，格式为 json
  >
  > 4、【特殊字段说明】：
  >
  > - **是否执行下一步：** 表示父节点处理结果满足了执行条件，可以处理下一节点（执行条件节点特有字段）
  > - **错误信息：** 当子节点处理失败，会返回报错内容

  ​