# 关于云盘 IOPS
对于本地 SSD 盘，根据实例规格有固定的 IOPS 限制，详情请参见本文规格表；对于云盘，除了实例规格外，存储空间大小对 IOPS 也会有影响。云盘IOPS的详细计算公式如下。

|存储类别|ESSD云盘PL3|ESSD云盘PL2|ESSD云盘PL1|SSD云盘|
|-|-|-|-|-|
|最大IOPS计算公式（存储空间单位：GB）|min{1800+50*存储空间, 1000000, 实例规格最大IOPS}|min{1800+50*存储空间, 100000, 实例规格最大IOPS}|min{1800+50*存储空间, 50000, 实例规格最大IOPS}| min{1800+30*存储空间, 25000, 实例规格最大IOPS} |

说明：吞吐量如果达到上限，也会影响IOPS。

以min{1800+50*存储空间, 50000, 实例规格最大IOPS}为例，公式中各值的说明如下：
- min：指最终结果取大括号中三个值的最小值。
- 1800+50*存储空间：云盘IOPS的基础计算公式。
- 50000：当前云盘对应的最大IOPS。不同云盘对应的最大IOPS不同。更多信息，请参见下方「ESSD云盘单盘最大IOPS」列表。
- 实例规格最大IOPS：ECS实例规格限定的最大IOPS。每个规格对应的最大IOPS请参见本文规格表。
- 实例的IOPS取上述公式三个值中的最小值。例如：
- 以ESSD云盘PL1为例。某实例的规格为mysql.x2.large.2c，限定最大IOPS为20000，存储空间为20GB。套用PL1的公式1800+50*20，得出结果为2800，则该实例的IOPS为2800。
- 以ESSD云盘PL1为例。某实例的规格为mysql.x2.large.2c，限定最大IOPS为20000。当实例的存储空间为6000GB时，套用PL1计算公式的结果为301800，超出了PL1和实例规格限定的最大值，取三者最小值的结果为20000。因此该实例的IOPS为20000。

实例的IOPS取上述公式三个值中的最小值。例如：
- 以ESSD云盘PL1为例。某实例的规格为mysql.x2.large.2c，限定最大IOPS为20000，存储空间为20GB。套用PL1的公式1800+50*20，得出结果为2800，则该实例的IOPS为2800。
- 以ESSD云盘PL1为例。某实例的规格为mysql.x2.large.2c，限定最大IOPS为20000。当实例的存储空间为6000GB时，套用PL1计算公式的结果为301800，超出了PL1和实例规格限定的最大值，取三者最小值的结果为20000。因此该实例的IOPS为20000。

说明：
- 实例的IO带宽在满载的情况下，可能无法达到最大IOPS。
- ECS云盘的IOPS以4KB为基准，而MySQL的读写IOPS默认为16KB，因此MySQL执行一次读写会消耗4次IO。
- 本文实例规格表中“最大IOPS”和“最大IO带宽（Mbps）”标记为“无”的规格为多实例抢占资源，IOPS不做限制。

ESSD云盘单盘最大IOPS（Input/Output Operations Per Second）

|PL3|PL2|PL1|PL0|
|-|-|-|-|
|1,000,000|100,000|50,000|10,000|