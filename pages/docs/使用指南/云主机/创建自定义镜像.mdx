# **背景信息**
通过创建自定义镜像，您可以将一台 QVM 实例的操作系统、数据制作成环境副本，再通过自定义镜像创建多台 QVM 实例，快速复制系统环境。

# **创建方式**
| 创建方式               | 前提条件                                                                                          |
|------------------------|---------------------------------------------------------------------------------------------------|
| 使用快照创建自定义镜像 | 已经创建了一份系统盘快照                                                                          |
| 使用实例创建自定义镜像 | 1. 已将实例中的敏感数据删除，避免数据安全隐患。 2. 检查系统盘使用剩余空间，确保系统盘没有被写满。 |

# **使用快照创建自定义镜像**
![](https://dn-odum9helk.qbox.me/Fsak8PWATtNLOVjLcDTieZcsdb5J)
​
使用快照创建自定义镜像前，请仔细阅读下列注意事项：
- 通过本文步骤创建的自定义镜像不能跨地域使用。
- 自定义镜像与 QVM 实例的计费方式相互独立。例如，使用包年包月 QVM 实例创建的自定义镜像，可用于创建按量付费 QVM 实例。

## **操作步骤**
打开[云主机控制台](https://portal.qiniu.com/qvm/vm/snapshot)，左侧导航栏找到“快照”，找到对应的快照资源创建镜像。
​
​
# **使用实例创建自定义镜像**
创建自定义镜像的过程中， QVM 会为实例的每块磁盘自动创建一个快照，这些快照组合起来构成一个自定义镜像，如下图所示。
![](https://dn-odum9helk.qbox.me/FpfGaYvCu1upgFBCVPtl6bD_eMT6)
​
创建自定义镜像前，请仔细阅读以下注意事项：
​
- 无需停止实例即可创建镜像。
- 镜像创建过程中，不能改变实例的状态。例如，不要停止、启动或者重启实例，避免创建失败。
- 包年包月实例已到期时，无法直接为其创建镜像。您可以为实例的系统盘创建快照，再使用快照创建自定义镜像。
- 实例释放后，无法为其创建镜像。若您为实例保存了系统盘快照，可以通过该快照创建自定义镜像。
- 实例及其创建的镜像属于同一个地域。例如，实例地域为华东1，则其创建的镜像也在华东1地域。
- 创建镜像所需时间，取决于实例磁盘的大小。
​
使用Linux实例创建自定义镜像时，还需要注意以下情况：
​
- 不要在/etc/fstab文件中加载数据盘信息，否则使用该镜像创建的实例无法启动。
- 请勿随意升级内核或操作系统版本。
- 请勿调整系统盘分区。系统盘目前只支持单个根分区。
- 请勿修改关键系统文件，如/sbin、/bin、/lib目录等。
- 请勿修改默认登录用户名root。

## **操作步骤**
打开[云主机控制台](https://portal.qiniu.com/qvm/vm/instance)，左侧导航栏找到“实例”，找到对应的实例资源创建镜像。