# 前提条件
如果需要为伸缩组关联负载均衡 SLB 实例，请确保满足以下条件：

- 您持有一个或多个处于运行中状态的 SLB 实例。
- SLB实例和伸缩组必须位于同一地域。
- SLB实例至少配置一个监听。具体操作，请参见监听概述。
- SLB实例必须开启健康检查。具体操作，请参见配置健康检查。
- SLB实例和伸缩组的网络类型：
- SLB实例和伸缩组必须是同一专有网络。

如果需要为伸缩组关联 RDS 实例，请确保满足以下条件：

- 您持有一个或多个处于运行中状态的 RDS 实例。
- RDS 实例和伸缩组必须位于同一地域。


# 业务场景

某在线广告提供商应用机器学习精准投放广告，在业务高峰期会临时需要大量计算资源，成本较高，也可能存在 QVM 实例库存不足、手动创建 QVM 实例操作仓促、QVM 实例临时停止服务等问题，存在一定的业务受损风险。

假设您的应用面向以下场景，也可以采用类似解决方案：

- 分布式大数据计算。
- 人工智能训练。

# 解决方案
弹性伸缩可以快速交付一个计算集群，同时利用均衡分布策略自动将计算节点分散在多个可用区，并实时检测 QVM 实例的运行状况，确保计算集群的高可用性。

方案如下：

- 通过弹性伸缩将计算节点分散在多个可用区，同时指定多种实例规格。
![截屏2022-02-17 下午4.14.51.png](https://dn-odum9helk.qbox.me/Fmg_7neBYE7NCxjkhci_oBj4slGh)

# 业务收益
利用弹性伸缩部署高可用计算集群，您可以获得以下收益：

- 零运维成本
您只需提前配置扩缩容策略。负载增加时，伸缩组自动创建 QVM 实例，并将 QVM 实例添加到 RDS 实例的白名单；负载降低时，伸缩组自动将 QVM 实例从 RDS 实例的白名单中移除，然后释放 QVM 实例。整个过程自动触发和完成，无需人工干预。
- 超高性价比
弹性伸缩支持使用突发性能型实例，性价比高。
- 天然高可用
均衡分布策略实现自动分散部署计算节点，避免因单可用区中库存不足等原因导致服务不可用，而且默认开启的健康检查功能可以确保伸缩组内 QVM 实例都处于可用状态
 
# 操作步骤
请根据您的业务架构评估业务模块，为需要部署高可用集群的业务模块创建伸缩组，并为伸缩配置选择应用实例的自定义镜像，确保自动创建出的 QVM 实例符合应用的要求。

1.登录 QVM 控制台。

2.在侧边栏选择弹性伸缩。

3.创建一个伸缩组。

- 组内最小实例数设置为100。
- 选择多个可用区下的虚拟交换机。
- 多区扩缩容策略设置为均衡分布策略。
- 绑定当前业务模块所使用的 RDS 实例。

4.在伸缩组管理页面，找到新创建的伸缩组，打开伸缩组详情页面。

- 创建一个伸缩配置。
- 镜像设置为您的自定义镜像。
- 请根据需要配置其它信息

5.启用伸缩配置和伸缩组。

# 执行结果
启用伸缩组后，伸缩组自动在所选可用区中均衡部署满100台 QVM 实例，单可用区中因库存不足等原因引发问题时，对整个应用的影响有限。伸缩组自动移除进入不健康状态的 QVM 实例并创建新的 QVM 实例。保证集群高可用性的同时，也降低了成本。