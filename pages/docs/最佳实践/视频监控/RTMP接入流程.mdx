本文主要简述使用摄像头或OBS进行RTMP接入测试的配置说明。
# **摄像头推流**
## **操作步骤：**
1.首先需要在七牛云视频监控产品portal上查询已经添加好的对应的配置信息，获取对应的推流地址，如尚未创建请参考[快速入门](https://developer.qiniu.io/qvs/manual/6763/qvs-quick-start)进行配置。
2.登录到摄像头的配置页面，找到RTMP配置页面。
3.请确保视频编码格式为h264，音频编码格式为aac。
4.平台`支持`h265接入和转发,但浏览器大都无法直接播放h265, 因此客户要自行集成[浏览器h265插件](https://github.com/numberwolf/h265web.js), `非浏览器`的h265播放，可以参考我们的[播放器sdk](https://developer.qiniu.com/qvs/7924/play-the-sdk)
5.将获取到的推流地址分别填入。
（1）无鉴权
![](https://dn-odum9helk.qbox.me/Fonr-typRbxfWtjzIO45YvTfvMfw)
（2）有鉴权
![](https://dn-odum9helk.qbox.me/FhiF9dtuVfEV77tamLf1cTLKF8Hd)
5.配置完成后选择启用，点击保存即可。
**注：**
如需使用推流SDK，可以下载直播云中提供的推流SDK。
[Android 推流 SDK](https://developer.qiniu.com/pili/3715/PLDroidMediaStreaming-overview)
[IOS 推流 SDK](https://developer.qiniu.com/pili/3778/PLMediaStreamingKit-overview)
# **OBS推流**
## **操作步骤：**
1.打开 OBS 推流软件，点击设置进入配置页面，选择流这项进行流配置。
![](https://dn-odum9helk.qbox.me/FtuR3hW6fitQCvemxkbw0g6A60Mz)
2.将获取到的推流地址分别填入 URL 和 流密钥。
（1）无鉴权
![](https://dn-odum9helk.qbox.me/FjVHBktVRVjDqrd3SXNSEKFBjJBo)
（2）有鉴权
![](https://dn-odum9helk.qbox.me/Fg3qC9Q_grOQ2lnOMKM5FQ5qk3_I)
3.配置完成后，点击开始推流，进行推流。
![](https://dn-odum9helk.qbox.me/FiuTf2OfgPuROwlKbcL_odkevbsL)
4. obs推流可选优化项，obs推流延迟较大，可以通过以下参数设置，降低端到端的播放延迟。
![OBS.png](https://dn-odum9helk.qbox.me/Fund11eq7KmEgdZrTojaMeqqLzsx)
5. 播放器低延迟设置。
* ffmpeg自带的ffplay播放器，命令行参数ffplay '播放地址' -fflags nobuffer
* vlc播放器，Preference=>Input/Codecs=>Default Caching Level下拉菜单选择"Lowest Latency"
* 其他播放器，可以自行参考文档，在播放器的设置选项里，选择对应的低延迟参数