# 1. 产品简介
<br/>
七牛云播放器 SDK 是一款全自研内核的跨平台 多媒体播放器，该播放器内核由有着18年播放器经验的音视频专家团队研发。目前支持 Android 和 iOS 平台。七牛云播放器 SDK 具有包体小、首开快、播放流畅、使用简单等明显优势可支持直播、点播 场景下的多种视频格式及流媒体协议。

播放器完全免费，不强制绑定任何其他产品。下载地址如下：

Android Github 地址：https://github.com/pili-engineering/PLDroidPlayer

iOS Github 地址：https://github.com/pili-engineering/PLPlayerKit

**注意：各端 Gihub 地址下的 repo 中，有相应的 demo 文件，用户可以体验并参考使用。**

# 2. 特色功能
七牛播放器提供以下贴心特色功能，更多详细功能及使用方法，请参考：
[Android 播放器 SDK](https://developer.qiniu.com/pili/sdk/1210/the-android-client-sdk)、[iOS 播放器 SDK](https://developer.qiniu.com/pili/sdk/1211/ios-playback-end-the-sdk) 

** 重要提示：若您的应用版本 Android 低于 2.0.0，iOS 低于 3.0.0，则强烈建议您进行 SDK 升级，低版本 SDK 并未提供以下特色功能。请参考升级说明进行升级：[Android 升级指南](https://github.com/pili-engineering/PLDroidPlayer/blob/master/v2_upgrade_manual.md)、[iOS 升级指南](https://github.com/pili-engineering/PLPlayerKit/blob/master/v3.x.x-UpgradeGuide.md)**



## 2.1 毫秒级首开
经过在主流机型在多种网络环境下的测试，在直播场景下，首开速度控制在 100 ms - 300 ms ，而一般竞品的平均首开速度在 1500ms 。在点播场景下，首开速度上也同样做了深度的优化。

## 2.2 HLS 自适应码率切换播放
复杂的网络抖动是直播最大的挑战之一，当网络变差的时候，单码率视频无法应对客户端网络带宽环境的变化，视频播放就会出现频繁缓冲或播放不畅的情况。七牛云播放器支持 HLS 协议，可以在不同的网络带宽环境下，可以自适应播放不同码率、分辨率的视频，获得最佳的观看体验。


## 2.3 独家无感知智能动态追帧，变速不变调
直播延时是常见的问题，为了直播不产生累积延时，通常需要进行追帧，但是采用常规的丢帧或者追帧策略，用户感觉到画面和声音的跳跃。

七牛推出的无感知动态追帧策略可以实现：

* 产生累积延时后可以快速追帧，并且不改变音频的听感。
* 遇到网络状况较差的情况，调节策略降低卡顿率。
* 根据应用场景，可以灵活设置延时累积的阈值


## 2.4 DRM 版权保护，防止数字媒体的非法复制
数字版权保护（Digital Rights Management，DRM）可以通过一定的安全算法/协议对视频进行加密保护，使得视频在未经授权的条件下即使被非法复制和分发后，也无法正常播放，从而有效地保护了视频资源，阻止了盗版行为。

## 2.5 支持 H.265 播放，节省 40% 带宽
H.265 支持是未来音视频领域的一大趋势，可以帮助客户节省将近 40% 的 CDN 带宽，节省企业成本。
H.265 的解码算法要远远比 H.264 复杂，因此播放器解码 H.265 会有更大的功耗，也对播放器的解码性能提出了更高的要求。目前七牛播放器已经支持 H.265 软解。

## 2.6 提供快开模式，进一步减少首屏时间
在部分 APP 中，视频的协议和格式可能相同。针对这种场景，七牛云播放器 SDK 提供了 快开模式。
快开模式启用后，会加快该播放器实例再次打开相同协议的视频流的速度，可以在 200-300 ms 的首屏打开速度的基础上，再 降低 50% 的首开时间，即使在网络不好的用户也可以有毫秒级首开体验。

## 2.7 双 IO 模式
MP4 是点播场景下常见的媒体文件格式，但是由于小部分 MP4 的 mov 信息是在文件尾部，播放器不得不在所有 MP4 下载完成后才能开始播放。七牛播放器针对这种场景提供了双 IO 支持，使用双 IO 连接更高效地播放 mov 在尾部的 mp4 文件。

## 2.8 智能 DNS 管理，防止域名劫持
支持使用自定义 DNS 域名服务器，防止弱网下，系统的域名解析慢阻塞 UI 线程，无法正常释放资源。支持应用层 DNS 缓存管理，提前完成域名解析，加快首开速度

## 2.9 支持 SEI 附加增强信息
SEI（Supplemental enhancement information） 补充增强信息，可向码流中加入了视频附加信息，从而实现附加信息与直播画面的完全同步。SEI 可用于直播答题、教学互动、秀场歌词等直播场景，丰富直播体验。

# 3. 产品架构

七牛播放器做了分层设计。控制层和数据层解耦。数据层就像工厂的加工模组，控制层就像总控的流水线。

播放器播放过程就是一个把数据在不同地方变成另外一种格式的数据，并加以控制的过程。我们通过数据来驱动各种模块，反过来获得自己需要的格式数据。

![](https://dn-odum9helk.qbox.me/Fv4vaJ0yh-grdOGVIiTYfvFbyOe1)

播放器流程中有诸多功能，这些功能是单独的组件，他们可以像拼装玩具一样，根据业务需要灵活地参与到整个播放过程当中。

如果播放器领域有新技术演进或者新功能需求，可以通过替换上面这些功能模块灵活组合。

![](https://dn-odum9helk.qbox.me/FvVB39RXMZIXPGVX-VDHzDzuZ5DX)

# 4. 使用场景

适用行业：新闻资讯、社交、电商、教育、游戏、医疗等。

适用场景：点播、直播、本地文件播放等。

## 4.1 视频点播场景

### 4.1.1 短视频
* 提供多种画面预览模式（原始尺寸、适应屏幕、全屏铺满等），可以简单实现全屏滑动播放需求。

* 由于短视频内容只有 15 秒左右，有趣的内容用户会循环播放，七牛播放器支持无缝循环播放，最后一帧和新的第一帧只有 25 毫秒。

* 支持 mp4 点播数据缓存到本地，从而为节约用户流量、客户节省带宽。

### 4.1.2 长视频

* 播放器 SDK 支持 0.1- 32 倍 的倍速调整接口，方便开发者进行倍速调节功能的开发。

* 支持用户设置任意封面图片。采用文件分段保存，用户播放 seek 的时候，可以保存播放过的内容，从而节省流量。


## 4.2 视频直播场景

* 七牛云播放器通过多种优化策略，可以实现首屏 200- 300 ms 的打开速度。
* 根据延时情况，无感知智能追帧策略可调节快播或慢播，不变速不变调；对于高码率游戏直播可以提高追帧阈值，保证流畅度和清晰度；实时直播答题场景下可以降低追帧阈值，保证实时性。
* 自动重连机制可以在连接失败时可以收到错误消息并定义重连策略，不用销毁播放器，网络断开后内部自动重连

## 4.3 视频内容管理平台
可作为视频内容管理平台的内嵌视频播放器。

## 4.4 本地文件播放
可以播放多种格式的本地文件，可作为手机厂商的原生播放器。

# 5. 关键数据

## 5.1 集成后包体大小
 *  iOS：App增量 4.2 M

*  Android：armeabi-v7a 架构最小包体 640K（其中 .jar 包：78K，的 .so 包：371 K)，更多架构下的包体大小请参考 Github：https://github.com/pili-engineering/PLDroidPlayer


## 5.2 首屏速度

| 流的分辨率 | 解码方式 | iOS 首开时间(ms) | Android 首开时间（ms） | 
|-------|------|--------------|------------------|
| 1080P | 软解   | 297          | 190              |
| 1080P | 硬解   | 298          | 198              |

			
## 5.3 CPU、内存占用

| 流的分辨率 | 解码方式 | CPU 占用（%） | 内存占用（MB） |
|-------|------|-----------|----------|
| 1080P | 软解   | 15.51     | 64.24    |
| 1080P | 硬解   | 5.83      | 52.78    |

    
# 6. 产品生态
七牛云播放器具备强大的数据感知能力，依托七牛云丰富的产品生态，可以提供一站式配套服务。

开发者可自由选择[大数据](https://www.qiniu.com/products/pandora)、[对象存储](https://www.qiniu.com/products/kodo)、[融合 CDN](https://www.qiniu.com/products/fusion)、[智能多媒体 API](https://www.qiniu.com/products/dora)、[直播云](https://www.qiniu.com/products/pili)、[推流 SDK](https://developer.qiniu.com/pili/sdk/3715/PLDroidMediaStreaming-overview)、[短视频 SDK](https://developer.qiniu.com/pili/sdk/3919/a-short-video-the-white-paper) 、[实时音视频 SDK](https://www.qiniu.com/products/rtn) 等产品，但无任何强制绑定销售。

![](https://dn-odum9helk.qbox.me/FkdVPHqr_inHp_ORti2wzKHSJ585)