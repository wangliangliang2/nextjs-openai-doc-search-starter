# **ç®€ä»‹**

æ­¤SDKä¸»è¦å¸®åŠ©æ‚¨å¿«é€Ÿæ¥å…¥ä¸ƒç‰›äº‘çš„è§†é¢‘ç›‘æ§å¹³å°ã€‚

ä¸»è¦æœ‰å¦‚ä¸‹åŠŸèƒ½ï¼š

- ç©ºé—´ç®¡ç†
- æµç®¡ç†
- è®¾å¤‡ç®¡ç†
- æ¨¡æ¿ç®¡ç†
- å½•åˆ¶ç®¡ç†
- æ•°æ®ç»Ÿè®¡ç®¡ç†
- PTZç®¡ç†

# **å¼€æº**

- [Java SDKé¡¹ç›®åœ°å€](https://github.com/qiniu/java-sdk)
- [Java SDKå‘å¸ƒåœ°å€](https://github.com/qiniu/java-sdk/releases)
- [Java SDKä½¿ç”¨ç¤ºä¾‹](https://github.com/qiniu/java-sdk/tree/master/src/test/java/test/com/qiniu/qvs)

# **å®‰è£…**

- <a href="#install-by-gradle">ä½¿ç”¨Gradle</a>
- <a href="#install-by-maven">ä½¿ç”¨Maven</a>
- <a href="#install-by-yourself">æ‰‹åŠ¨å®‰è£…</a>

## **æ³¨æ„**
* ä» 7.2.24 å¼€å§‹ï¼Œokhttp3 å‡çº§åˆ° 3.14.2ï¼Œå…¶è¦æ±‚ java 1.8 åŠä»¥ä¸Šã€‚
* è‹¥ä¸€å®š java 1.7 ï¼Œè¯·æ‰‹åŠ¨æŒ‡å®š okhttp3 ä¾èµ– 3.12.3ã€‚ `com.squareup.okhttp3:okhttp:3.12.3`
```
    compile ('com.qiniu:qiniu-java-sdk:7.2.+') {
        exclude group: 'com.squareup.okhttp3', module: 'okhttp'
    }
    compile 'com.squareup.okhttp3:okhttp:3.12.3'
```

<a id="install-by-gradle"></a>
### **Gradle**

```
compile 'com.qiniu:qiniu-java-sdk:7.2.+'
```

<a id="install-by-maven"></a>
### **Maven**

```
<dependency>
  <groupId>com.qiniu</groupId>
  <artifactId>qiniu-java-sdk</artifactId>
  <version>[7.2.0, 7.2.99]</version>
</dependency>
```
è¿™é‡Œçš„`version`æŒ‡å®šäº†ä¸€ä¸ªç‰ˆæœ¬èŒƒå›´ï¼Œæ¯æ¬¡æ›´æ–°`pom.xml`çš„æ—¶å€™ä¼šå°è¯•å»ä¸‹è½½`7.2.x`ç‰ˆæœ¬ä¸­çš„æœ€æ–°ç‰ˆæœ¬ï¼Œä½ å¯ä»¥æ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªå›ºå®šçš„ç‰ˆæœ¬ã€‚

<a id="install-by-yourself"></a>
### **æ‰‹åŠ¨ä¸‹è½½**

è¯·å°½é‡ä½¿ç”¨åŒ…ç®¡ç†å·¥å…·è‡ªåŠ¨è§£å†³ä¾èµ–é—®é¢˜ã€‚å¦‚æœæ¡ä»¶å®åœ¨ä¸æ»¡è¶³ï¼Œåªèƒ½é€šè¿‡æ‰‹åŠ¨ä¸‹è½½jaråŒ…çš„æ–¹å¼æ¥è§£å†³ã€‚æœ¬é¡¹ç›®è‡ªèº«jaråŠä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“å¦‚ä¸‹ï¼š

Java SDKä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“åŠå…¶ç‰ˆæœ¬å¦‚ä¸‹ï¼š

```
<dependencies>
    <dependency>
      <groupId>com.squareup.okhttp3</groupId>
      <artifactId>okhttp</artifactId>
      <version>3.14.2</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>com.google.code.gson</groupId>
      <artifactId>gson</artifactId>
      <version>2.8.5</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>com.qiniu</groupId>
      <artifactId>happy-dns-java</artifactId>
      <version>0.1.6</version>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.12</version>
      <scope>test</scope>
    </dependency>
  </dependencies>
```

|åº“åç§°|åº“é¡¹ç›®åœ°å€|åº“ä¸‹è½½åœ°å€|
|----|-----------|-------|
|qiniu-java-sdk|[é“¾æ¥ğŸ”—](https://github.com/qiniu/java-sdk)|[é“¾æ¥ğŸ”—](http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22qiniu-java-sdk%22)|
|happy-dns-java|[é“¾æ¥ğŸ”—](https://github.com/qiniu/happy-dns-java)|[é“¾æ¥ğŸ”—](http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22happy-dns-java%22)|
|okhttp3|[é“¾æ¥ğŸ”—](https://github.com/square/okhttp)|[é“¾æ¥ğŸ”—](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.squareup.okhttp3%22)|
|okio|[é“¾æ¥ğŸ”—](https://github.com/square/okio)|[é“¾æ¥ğŸ”—](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.squareup.okio%22)|
|gson|[é“¾æ¥ğŸ”—](https://github.com/google/gson)|[é“¾æ¥ğŸ”—](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.google.code.gson%22)|
|junit|[é“¾æ¥ğŸ”—](http://junit.org/junit4/)|[é“¾æ¥ğŸ”—](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22junit%22)|
å¯ä»¥ç‚¹å‡»æ¯ä¸ªåº“çš„ä¸‹è½½é“¾æ¥ï¼Œç„¶åé€‰æ‹©å¯¹åº”çš„jarè¿›è¡Œä¸‹è½½ï¼Œç„¶åå¼•å…¥åˆ°é¡¹ç›®ä¸­ã€‚

# **é‰´æƒ**

ä¸ƒç‰› Java SDK çš„æ‰€æœ‰çš„åŠŸèƒ½ï¼Œéƒ½éœ€è¦åˆæ³•çš„æˆæƒã€‚æˆæƒå‡­è¯çš„ç­¾ç®—éœ€è¦ä¸ƒç‰›è´¦å·ä¸‹çš„ä¸€å¯¹æœ‰æ•ˆçš„`Access Key`å’Œ`Secret Key`ï¼Œè¿™å¯¹å¯†é’¥å¯ä»¥é€šè¿‡å¦‚ä¸‹æ­¥éª¤è·å¾—ï¼š

1. ç‚¹å‡»[æ³¨å†Œ](https://portal.qiniu.com/signup)å¼€é€šä¸ƒç‰›å¼€å‘è€…å¸å·
2. å¦‚æœå·²æœ‰è´¦å·ï¼Œç›´æ¥ç™»å½•ä¸ƒç‰›å¼€å‘è€…åå°ï¼Œç‚¹å‡»[è¿™é‡ŒğŸ”—](https://portal.qiniu.com/user/key)æŸ¥çœ‹ Access Key å’Œ Secret Key


# **ç©ºé—´ç®¡ç†**
ç©ºé—´ç®¡ç†çš„æ‰€æœ‰æ¥å£éœ€è¦å…ˆé€šè¿‡`ak`ã€`sk`åˆ›å»ºç©ºé—´ç®¡ç†å¯¹è±¡
```java
String accessKey = "<QINIU ACCESS KEY>"; // æ›¿æ¢æˆè‡ªå·± Qiniu è´¦å·çš„ AccessKey.
String secretKey = "<QINIU SECRET KEY>"; // æ›¿æ¢æˆè‡ªå·± Qiniu è´¦å·çš„ SecretKey.
Auth auth = Auth.create(accessKey, secretKey);
NameSpaceManager nameSpaceManager = new NameSpaceManager(auth);
```
<br/>

## **åˆ›å»ºç©ºé—´**
### è¯´æ˜
åˆ›å»ºç©ºé—´éœ€è¦å…ˆæ„é€ NameSpaceå¯¹è±¡ï¼ŒNameSpaceç±»æ–¹æ³•è¯´æ˜:

| æ–¹æ³•å                    | æ˜¯å¦å¿…é¡»         | è¯´æ˜                                                         |
| ------------------------- | ---------------- | ------------------------------------------------------------ |
| setName                   | æ˜¯               | ç©ºé—´åç§°(æ ¼å¼"^[a-zA-Z0-9_-]{1,100}$")                       |
| setDesc                   | å¦               | ç©ºé—´æè¿°                                                     |
| setAccessType             | æ˜¯               | æ¥å…¥ç±»å‹(rtmpæˆ–è€…gb28181)                                    |
| setUrlMode                | æ˜¯               | æ¨æ‹‰æµåœ°å€è®¡ç®—æ–¹å¼ï¼Œ1:static, 2:dynamic                      |
| setDomains                | urlModeä¸º1æ—¶å¿…å¡« | ç›´æ’­åŸŸå                                                     |
| setZone                   | å¦               | zoneä¸ºæœåŠ¡åŒºåŸŸ, å¯æ ¹æ®æµåª’ä½“å®æ—¶å¤„ç†ã€è§†é¢‘å½•åˆ¶ã€æˆªå›¾çš„å­˜å‚¨éœ€æ±‚é€‰æ‹©å¯¹åº”çš„åŒºåŸŸ, å¯é€‰é¡¹ä¸ºz0, z1, z2, é»˜è®¤ä¸ºz0. z0è¡¨ç¤ºåä¸œ, z1è¡¨ç¤ºååŒ—ã€z2è¡¨ç¤ºåå— |
| setCallback               | å¦               | å›è°ƒåœ°å€ï¼Œå¯ç”¨äºè·å–ç©ºé—´å†…è®¾å¤‡/æµçŠ¶æ€æ›´æ–°æ—¶çš„ä¿¡æ¯            |
| setHlsLowLatency          | å¦               | hlsä½å»¶è¿Ÿå¼€å…³                                                |
| setRecordTemplateId       | å¦               | å½•åˆ¶æ¨¡ç‰ˆIDï¼Œéœ€è¦å½•åˆ¶åŠŸèƒ½æ—¶è¾“å…¥å¯¹åº”çš„æ¨¡æ¿IDï¼Œå½•åˆ¶æ¨¡æ¿IDå¯ä»¥æ¨¡æ¿ç®¡ç†ä¸­è·å– |
| setSnapShotTemplateId     | å¦               | æˆªå›¾æ¨¡ç‰ˆIDï¼Œéœ€è¦æˆªå›¾åŠŸèƒ½æ—¶è¾“å…¥å¯¹åº”çš„æ¨¡æ¿IDï¼Œæˆªå›¾æ¨¡æ¿IDå¯ä»¥æ¨¡æ¿ç®¡ç†ä¸­è·å– |
| setRecordTemplateApplyAll | å¦               | å½•åˆ¶æ¨¡ç‰ˆæ˜¯å¦åº”ç”¨åˆ°å…¨å±€                                       |
| setSnapTemplateApplyAll   | å¦               | æˆªå›¾æ¨¡ç‰ˆæ˜¯å¦åº”ç”¨åˆ°å…¨å±€                                       |
| onDemandPull              | å¦               | æŒ‰éœ€æ‹‰æµå¼€å…³ï¼Œé»˜è®¤å…³é—­                                       |


### ç¤ºä¾‹

```java
// åˆ›å»ºç©ºé—´
 NameSpace nameSpace = new NameSpace();
 nameSpace.setName("hugo");// è®¾ç½®ç©ºé—´ç±»å‹
 nameSpace.setAccessType("rtmp");// æ¥å…¥ç±»å‹"gb28181"æˆ–è€…â€œrtmpâ€
 nameSpace.setUrlMode(1);
 nameSpace.setDomains(new String[]{"qtest.com"});

 nameSpaceManager.createNameSpace(nameSpace);
```
<br/>

## **æŸ¥è¯¢ç©ºé—´**
### è¯´æ˜

```java
Response queryNameSpace(String namespaceId) throws QiniuException
```

namespaceIdå¯é€šè¿‡`nameSpace.getId`è·å–

### ç¤ºä¾‹

```java
// æŸ¥è¯¢ç©ºé—´
String namespaceId = "2akrarsj8zp0w";
res = nameSpaceManager.queryNameSpace(namespaceId);
```
<br/>

## **æ›´æ–°ç©ºé—´**

```java
Response updateNameSpace(String namespaceId, PatchOperation[] patchOperation) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°           | è¯´æ˜                                       |
| -------------- | ------------------------------------------ |
| namespaceId    | ç©ºé—´idï¼Œå¯é€šè¿‡`nameSpace.getId`è·å– |
| patchOperation | æ“ä½œé›†ï¼Œè¯¦è§`PatchOperationç±»æ–¹æ³•è¯´æ˜`     |

### PatchOperationç±»æ–¹æ³•è¯´æ˜

| æ–¹æ³•å                                              | è¯´æ˜                                                         |
| --------------------------------------------------- | ------------------------------------------------------------ |
| PatchOperation(String op, String key, Object value) | æ„é€ æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºæ“ä½œå¯¹è±¡ã€‚<br>op: æ›´è¯¥æˆ–åˆ é™¤æŸä¸ªå±æ€§ï¼Œreplaceï¼šæ›´æ”¹ï¼Œdeleteï¼šåˆ é™¤<br>key: è¦ä¿®æ”¹æˆ–åˆ é™¤çš„å±æ€§<br>value: è¦ä¿®æ”¹æˆ–åˆ é™¤å±æ€§çš„å€¼ |
| String getOp()                                      | è·å–æ“ä½œç±»å‹                                                 |
| void setOp(String op)                               | è®¾ç½®æ“ä½œç±»å‹                                                 |
| String getKey()                                     | è·å–è¦æ“ä½œçš„å±æ€§                                             |
| void setKey(String key)                             | è®¾ç½®è¦æ“ä½œçš„å±æ€§                                             |
| Object getValue()                                   | è·å–å±æ€§çš„å€¼                                                 |
| void setValue(Object value)                         | è®¾ç½®å±æ€§çš„å€¼                                                 |

### ç¤ºä¾‹
```java
// æ›´æ–°ç©ºé—´
PatchOperation[] patchOperation = {new PatchOperation("replace", "recordTemplateApplyAll", true)};
nameSpaceManager.updateNameSpace(namespaceId, patchOperation);
```
<br/>

## **è·å–ç©ºé—´åˆ—è¡¨**

```java
Response listNameSpace(int offset, int line, String sortBy) throws QiniuException 
```

### å‚æ•°è¯´æ˜

| å‚æ•°   | è¯´æ˜                                                         |
| ------ | ------------------------------------------------------------ |
| offset | åœ¨å…¨éƒ¨namespaceä¸­çš„åç§»é‡                                    |
| line   | ä¸€æ¬¡è¿”å›å¤šå°‘æ¡                                               |
| sortBy | asc è¡¨ç¤ºå‡åº<br>desc è¡¨ç¤ºé™åº<br>é»˜è®¤æŒ‰åˆ›å»ºæ—¶é—´é™åºæ’åˆ—(å¯å‚ä¸æ’åºçš„å­—æ®µæœ‰createdAt, updatedAt).<br>asc:updatedAtè¡¨ç¤ºæ›´æ–°æ—¶é—´ä»å°åˆ°å¤§æ’åº,<br>desc:updatedAtè¡¨ç¤ºæ›´æ–°æ—¶é—´ä»å¤§åˆ°å°æ’åº |

### ç¤ºä¾‹

```java
// è·å–ç©ºé—´åˆ—è¡¨
int offset = 0;
int line = 1;
String sortBy = "asc:updatedAt";

nameSpaceManager.listNameSpace(offset, line, sortBy);
```
<br/>

## **ç¦ç”¨ç©ºé—´**

```java
Response disableNameSpace(String namespaceId) throws QiniuException 
```

### ç¤ºä¾‹

```java
// ç¦ç”¨ç©ºé—´
String namespaceId = "2akrarsj8zp0w";
nameSpaceManager.disableNameSpace(namespaceId);
```
<br/>

## **å¯ç”¨ç©ºé—´**

```java
Response enableNameSpace(String namespaceId) throws QiniuException
```

### ç¤ºä¾‹

```java
// å¯ç”¨ç©ºé—´
String namespaceId = "2akrarsj8zp0w";
nameSpaceManager.enableNameSpace(namespaceId);
```
<br/>

## **åˆ é™¤ç©ºé—´**

```java
Response deleteNameSpace(String namespaceId) throws QiniuException
```

### ç¤ºä¾‹

```java
// åˆ é™¤ç©ºé—´
String namespaceId = "2akrarsj8zp0w";
nameSpaceManager.deleteNameSpace(namespaceId);
```

# **æµç®¡ç†**

æµç®¡ç†çš„æ‰€æœ‰æ¥å£éœ€è¦é€šè¿‡`ak`ã€`sk`åˆ›å»ºæµç®¡ç†å¯¹è±¡

```java
String accessKey = "<QINIU ACCESS KEY>"; // æ›¿æ¢æˆè‡ªå·± Qiniu è´¦å·çš„ AccessKey.
String secretKey = "<QINIU SECRET KEY>"; // æ›¿æ¢æˆè‡ªå·± Qiniu è´¦å·çš„ SecretKey.
Auth auth = Auth.create(accessKey, secretKey);
StreamManager streamManager = new StreamManager(auth);
```
<br/>

## **åˆ›å»ºæµ**
æœ¬æ¥å£ä»…ç”¨äºæ¥å…¥ç±»å‹ä¸ºRTMPçš„ç©ºé—´

```java
Response createStream(String namespaceId, Stream stream) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                               |
| ----------- | ---------------------------------- |
| namespaceId | ç©ºé—´id                             |
| stream      | æµç›¸å…³å‚æ•°ï¼Œè¯¦è§`Streamç±»æ–¹æ³•è¯´æ˜` |

### Streamç±»æ–¹æ³•è¯´æ˜

- æ„é€ æ–¹æ³•

```java
Stream(String streamID)
Stream(String streamID, String desc, String recordTemplateId, String snapShotTemplateId)
```

- å‚æ•°è¯´æ˜ï¼š

| å‚æ•°               | è¯´æ˜                                                         |
| ------------------ | ------------------------------------------------------------ |
| streamID           | æµåç§°, æµåç§°åœ¨ç©ºé—´ä¸­å”¯ä¸€ï¼Œå¯åŒ…å« å­—æ¯ã€æ•°å­—ã€ä¸­åˆ’çº¿ã€ä¸‹åˆ’çº¿ï¼›1 ~ 100 ä¸ªå­—ç¬¦é•¿ï¼›åˆ›å»ºåå°†ä¸å¯ä¿®æ”¹ |
| desc               | å…³äºæµçš„æè¿°ä¿¡æ¯                                             |
| recordTemplateId   | å½•åˆ¶æ¨¡ç‰ˆIDï¼Œé…ç½®æµç»´åº¦çš„å½•åˆ¶æ¨¡æ¿                             |
| snapShotTemplateId | æˆªå›¾æ¨¡ç‰ˆIDï¼Œé…ç½®æµç»´åº¦çš„æˆªå›¾æ¨¡æ¿                             |

- è®¾ç½®æµåç§°

```java
void setStreamID(String streamID)
```

- è·å–æµåç§°

```java
String getStreamID()
```

- è·å–æµæè¿°ä¿¡æ¯

```java
String getDesc()
```

- è®¾ç½®æµæè¿°ä¿¡æ¯

```java
void setDesc(String desc)
```

- è·å–æ‰€å±ç©ºé—´id

```java
String getNamespaceId()
```

- è®¾ç½®æ‰€å±ç©ºé—´id

```java
void setNamespaceId(String namespaceId)
```

- è·å–æ‰€å±ç©ºé—´åç§°

```java
String getNamespace()
```

- è®¾ç½®æ‰€å±ç©ºé—´åç§°

```java
void setNamespace(String namespace)
```

- è·å–å½•åˆ¶æ¨¡æ¿id

```java
String getRecordTemplateId()
```

- è®¾ç½®å½•åˆ¶æ¨¡æ¿id

```java
void setRecordTemplateId(String recordTemplateId)
```

- è·å–æˆªå›¾æ¨¡æ¿id

```java
String getSnapShotTemplateId()
```

- è®¾ç½®æˆªå›¾æ¨¡æ¿id

```java
void setSnapShotTemplateId(String snapShotTemplateId)
```

- è®¾å¤‡æ˜¯å¦åœ¨çº¿

```java
boolean isStatus()
```

- è®¾ç½®è®¾å¤‡åœ¨çº¿çŠ¶æ€

```java
void setStatus(boolean status)
```

- æµæ˜¯å¦è¢«ç¦ç”¨

```java
boolean isDisabled()
```

- è®¾ç½®æµç¦ç”¨çŠ¶æ€

```java
void setDisabled(boolean disabled)
```

- è·å–æœ€åä¸€æ¬¡æ¨æµæ—¶é—´

```java
int getLastPushedAt()
```

- è®¾ç½®æœ€åä¸€æ¬¡æ¨æµæ—¶é—´

```java
void setLastPushedAt(int lastPushedAt) 
```

- è·å–æµåˆ›å»ºæ—¶é—´

```java
int getCreatedAt()
```

- è®¾ç½®æµåˆ›å»ºæ—¶é—´

```java
void setCreatedAt(int createdAt) 
```

- è·å–æµæ›´æ–°æ—¶é—´

```java
int getUpdatedAt()
```

- è®¾ç½®æµæ›´æ–°æ—¶é—´

```java
void setUpdatedAt(int updatedAt) 
```

- è·å–åœ¨çº¿è§‚çœ‹äººæ•°

```java
int getUserCount()
```

- è®¾ç½®åœ¨çº¿è§‚çœ‹äººæ•°

```java
void setUserCount(int userCount)
```

- è·å–æ¨æµç«¯ip

```java
String getClientIp() 
```

- è®¾ç½®æ¨æµç«¯ip

```java
void setClientIp(String clientIp)
```

- è·å–ç›´æ’­æµçš„å®æ—¶éŸ³é¢‘å¸§ç‡

```java
int getAudioFrameRate()
```

- è®¾ç½®ç›´æ’­æµçš„å®æ—¶éŸ³é¢‘å¸§ç‡

```java
void setAudioFrameRate(int audioFrameRate)
```

- è·å–ç›´æ’­æµçš„å®æ—¶ç ç‡

```java
int getBitrate()
```

- è®¾ç½®ç›´æ’­æµçš„å®æ—¶ç ç‡

```java
void setBitrate(int bitrate)
```

- è·å–ç›´æ’­æµçš„å®æ—¶è§†é¢‘å¸§ç‡

```java
int getVideoFrameRate()
```

- è®¾ç½®ç›´æ’­æµçš„å®æ—¶è§†é¢‘å¸§ç‡

```java
void setVideoFrameRate(int videoFrameRate)
```

### ç¤ºä¾‹

```java
// åˆ›å»ºæµ
Stream stream = new Stream("teststream004");
String namespaceId = "2akrarsj8zp0w";

streamManager.createStream(namespaceId, stream);
```
<br/>

## **æŸ¥è¯¢æµ**

```java
Response queryStream(String namespaceId, String streamId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜   |
| ----------- | ------ |
| namespaceId | ç©ºé—´id |
| streamId    | æµid   |

### ç¤ºä¾‹

```java
// æŸ¥è¯¢æµ
String namespaceId = "2akrarsj8zp0w";
Stream stream = new Stream("teststream004");
streamManager.queryStream(namespaceId, stream.getStreamID());
```
<br/>

## **æ›´æ–°æµ**

```java
Response updateStream(String namespaceId, String streamId, PatchOperation[] patchOperation)
```

### å‚æ•°è¯´æ˜

| å‚æ•°           | è¯´æ˜                                   |
| -------------- | -------------------------------------- |
| namespaceId    | ç©ºé—´id                                 |
| streamId       | æµid                                   |
| patchOperation | æ“ä½œé›†ï¼Œè¯¦è§`PatchOperationç±»æ–¹æ³•è¯´æ˜` |

### ç¤ºä¾‹

```java
// æ›´æ–°æµ
String namespaceId = "2akrarsj8zp0w";
Stream stream = new Stream("teststream004");
PatchOperation[] patchOperation = {new PatchOperation("replace", "desc", "test")};
streamManager.updateStream(namespaceId, stream.getStreamID(), patchOperation);
```
<br/>

## **è·å–æµåˆ—è¡¨**

```java
Response listStream(String namespaceId, int offset, int line, int qtype, String prefix, String sortBy) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                                                         |
| ----------- | ------------------------------------------------------------ |
| namespaceId | ç©ºé—´id                                                       |
| offset      | åœ¨å…¨éƒ¨æµä¸­çš„åç§»é‡                                           |
| line        | ä¸€æ¬¡è¿”å›å¤šå°‘æ¡                                               |
| qtype       | æŸ¥è¯¢æµç±»å‹ï¼Œ 0:å…¨éƒ¨,1:åœ¨çº¿æµ,2:ç¦»çº¿æµ                        |
| prefix      | æµID å‰ç¼€ï¼Œå¯ä»¥æµID å‰ç¼€è¿›è¡Œæ£€ç´¢æŸ¥è¯¢                         |
| sortBy      | asc è¡¨ç¤ºå‡åº<br>desc è¡¨ç¤ºé™åº<br>é»˜è®¤æŒ‰åˆ›å»ºæ—¶é—´é™åºæ’åˆ—(å¯å‚ä¸æ’åºçš„å­—æ®µæœ‰createdAt, updatedAt, lastPushedAt).<br>asc:updatedAtè¡¨ç¤ºæ›´æ–°æ—¶é—´ä»å°åˆ°å¤§æ’åº<br>desc:updatedAtè¡¨ç¤ºæ›´æ–°æ—¶é—´ä»å¤§åˆ°å°æ’åº |

### ç¤ºä¾‹

```java
// è·å–æµåˆ—è¡¨
int offset = 0;
int line = 1;
int qtype = 0;
String prefix = "test";
String sortBy = "desc:updatedAt";
String namespaceId = "2akrarsj8zp0w";

streamManager.listStream(namespaceId, offset, line, qtype, prefix, sortBy);
```
<br/>

## **é™æ€æ¨¡å¼è·å–æµåœ°å€**

```java
Response staticPublishPlayURL(String namespaceId, String streamId, StaticLiveRoute staticLiveRoute) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°            | è¯´æ˜   |
| --------------- | ------ |
| namespaceId     | ç©ºé—´id |
| streamId        | æµid   |
| staticLiveRoute | StaticLiveRouteç±»é™æ€åŸŸåå¯¹è±¡ |

### StaticLiveRouteç±»æ–¹æ³•è¯´æ˜

| æ–¹æ³•å                                              | è¯´æ˜                                                         |
| --------------------------------------------------- | ------------------------------------------------------------ |
| StaticLiveRoute(String domain, String domainType) | æ„é€ æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºé™æ€åŸŸåå¯¹è±¡ã€‚<br>domain:åŸŸå<br>domainType:åŸŸåç±»å‹,å–å€¼ï¼š"publishRtmp":rtmpæ¨æµ, "liveRtmp": rtmpæ’­æ”¾, "liveHls": hlsæ’­æ”¾, "liveHdl": flvæ’­æ”¾;"liveWebrtc": webrtcæ’­æ”¾ |
| StaticLiveRoute(String domain, String domainType, int urlExpireSec) | æ„é€ æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºé™æ€åŸŸåå¯¹è±¡ã€‚<br>domain:åŸŸå<br>domainType:åŸŸåç±»å‹,å–å€¼ï¼š"publishRtmp":rtmpæ¨æµ, "liveRtmp": rtmpæ’­æ”¾, "liveHls": hlsæ’­æ”¾, "liveHdl": flvæ’­æ”¾;"liveWebrtc": webrtcæ’­æ”¾;<br>urlExpireSec:æµåœ°å€è¿‡æœŸæ—¶é—´(å•ä½ä¸ºç§’) |
| String getDomain()                                     | è·å–åŸŸå                                                 |
| void setDomain(String domain)                               | è®¾ç½®åŸŸå                                                 |
| String getDomainType()                                     | è·å–åŸŸåç±»å‹                                             |
| void setDomainType(String domainType)                             | è®¾ç½®åŸŸåç±»å‹                                             |
| int getUrlExpireSec()                                  | è·å–è¿‡æœŸæ—¶é—´                                                 |
| void setUrlExpireSec(int urlExpireSec)                         | è®¾ç½®è¿‡æœŸæ—¶é—´                                                 |

### ç¤ºä¾‹

```java
// é™æ€æ¨¡å¼è·å–æµåœ°å€
StaticLiveRoute staticLiveRoute = new StaticLiveRoute("qvs-publish.qtest.com", "publishRtmp", 3600);
String namespaceId = "2akrarsj8zp0w";
Stream stream = new Stream("teststream004");

streamManager.staticPublishPlayURL(namespaceId, stream.getStreamID(), staticLiveRoute);
```
<br/>

## **åŠ¨æ€æ¨¡å¼è·å–æµåœ°å€**

```java
Response dynamicPublishPlayURL(String namespaceId, String streamId, DynamicLiveRoute dynamicLiveRoute) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°            | è¯´æ˜   |
| --------------- | ------ |
| namespaceId     | ç©ºé—´id |
| streamId        | æµid   |
| dynamicLiveRoute | DynamicLiveRouteç±»åŠ¨æ€åŸŸåå¯¹è±¡ |

### DynamicLiveRouteç±»æ–¹æ³•è¯´æ˜

| æ–¹æ³•å                                              | è¯´æ˜                                                         |
| --------------------------------------------------- | ------------------------------------------------------------ |
| DynamicLiveRoute(String publishIP, String playIP) | æ„é€ æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºåŠ¨æ€åŸŸåå¯¹è±¡ã€‚<br>publishIp:æ¨æµç«¯å¯¹å¤–IPåœ°å€<br>playIp:æ‹‰æµç«¯å¯¹å¤–IPåœ°å€ |
| DynamicLiveRoute(String publishIP, String playIP, int urlExpireSec) | æ„é€ æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºåŠ¨æ€åŸŸåå¯¹è±¡ã€‚<br>publishIp:æ¨æµç«¯å¯¹å¤–IPåœ°å€<br>playIp:æ‹‰æµç«¯å¯¹å¤–IPåœ°å€<br>urlExpireSec:æµåœ°å€è¿‡æœŸæ—¶é—´(å•ä½ä¸ºç§’) |
| String getPublishIP()                                     | è·å–æ¨æµç«¯å¯¹å¤–IPåœ°å€                                                 |
| void setPublishIP(String publishIP)                               | è®¾ç½®æ¨æµç«¯å¯¹å¤–IPåœ°å€                                         |
| String getPlayIP()                                     | è·å–æ‹‰æµç«¯å¯¹å¤–IPåœ°å€                                             |
| void setPlayIP(String playIP)                             | è®¾ç½®æ‹‰æµç«¯å¯¹å¤–IPåœ°å€                                             |
| int getUrlExpireSec()                                  | è·å–è¿‡æœŸæ—¶é—´                                                 |
| void setUrlExpireSec(int urlExpireSec)                         | è®¾ç½®è¿‡æœŸæ—¶é—´                                                 |

### ç¤ºä¾‹

```java
// åŠ¨æ€æ¨¡å¼è·å–æµåœ°å€
DynamicLiveRoute dynamicLiveRoute = new DynamicLiveRoute("116.236.177.50", "116.236.177.50", 3600);
String namespaceId = "2akrarsj8zp0w";
Stream stream = new Stream("teststream004");

streamManager.dynamicPublishPlayURL(namespaceId, stream.getStreamID(), dynamicLiveRoute);
```
<br/>

## **æŸ¥è¯¢æ¨æµå†å²è®°å½•**

```java
Response queryStreamPubHistories(String namespaceId, String streamId, int start, int end, int offset, int line) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                                   |
| ----------- | -------------------------------------- |
| namespaceId | ç©ºé—´id                                 |
| streamId    | æµid                                   |
| start       | æ¨æµå¼€å§‹æ—¶é—´(unix timestamp in second) |
| end         | æ¨æµç»“æŸæ—¶é—´(unix timestamp in second) |
| offset      | åœ¨å…¨éƒ¨æµä¸­çš„åç§»é‡                     |
| line        | ä¸€æ¬¡è¿”å›å¤šå°‘æ¡                         |

### ç¤ºä¾‹

```java
//  æŸ¥è¯¢æ¨æµå†å²è®°å½•
String namespaceId = "2akrarsj8zp0w";
Stream stream = new Stream("teststream004");
int start = 1587975463;
int end = 1587976463;
int offset = 0;
int ine = 1;
streamManager.queryStreamPubHistories(namespaceId, stream.getStreamID(), start, end, offset, line);
```
<br/>

## **ç¦ç”¨æµ**

```java
Response disableStream(String namespaceId, String streamId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜   |
| ----------- | ------ |
| namespaceId | ç©ºé—´id |
| streamId    | æµid   |

### ç¤ºä¾‹

```java
String namespaceId = "2akrarsj8zp0w";
Stream stream = new Stream("teststream004");
streamManager.disableStream(namespaceId, stream.getStreamID());
```
<br/>

## **å¯ç”¨æµ**

```java
Response enableStream(String namespaceId, String streamId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜   |
| ----------- | ------ |
| namespaceId | ç©ºé—´id |
| streamId    | æµid   |

### ç¤ºä¾‹

```java
// å¯ç”¨æµ
String namespaceId = "2akrarsj8zp0w";
Stream stream = new Stream("teststream004");
streamManager.enableStream(namespaceId, stream.getStreamID());
```

<br/>
## **åˆ é™¤æµ**

```java
Response deleteStream(String namespaceId, String streamId) throws QiniuException 
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜   |
| ----------- | ------ |
| namespaceId | ç©ºé—´id |
| streamId    | æµid   |

### ç¤ºä¾‹

```java
// åˆ é™¤æµ
String namespaceId = "2akrarsj8zp0w";
Stream stream = new Stream("teststream004");
streamManager.deleteStream(namespaceId, stream.getStreamID());
```
<br/>

## **åœç”¨æµ**

```java
Response stopStream(String namespaceId, String streamId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜   |
| ----------- | ------ |
| namespaceId | ç©ºé—´id |
| streamId    | æµid   |

### ç¤ºä¾‹

```java
// åœç”¨æµ
String namespaceId = "2akrarsj8zp0w";
Stream stream = new Stream("teststream004");
streamManager.stopStream(namespaceId, stream.getStreamID());
```

# **è®¾å¤‡ç®¡ç†**

## **åˆ›å»ºè®¾å¤‡**

```java
Response createDevice(String namespaceId, Device device) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°     | è¯´æ˜                                               |
| -------- | -------------------------------------------------- |
| namespaceId    | ç©ºé—´id                                             |
| device   | è®¾å¤‡é…ç½®å‚æ•°ï¼ŒDeviceç›¸å…³è¯´æ˜è¯¦è§`Deviceç±»æ–¹æ³•è¯´æ˜` |

### Deviceç±»æ–¹æ³•è¯´æ˜

- è·å–è®¾å¤‡åç§°

  ```java
  String getName()
  ```

- è®¾ç½®è®¾å¤‡åç§°

  ```java
  void setName(String name)
  ```

  å‚æ•°è¯´æ˜ï¼šè®¾å¤‡åç§° (å¯åŒ…å« å­—æ¯ã€æ•°å­—ã€ä¸­åˆ’çº¿ã€ä¸‹åˆ’çº¿ï¼›1 ~ 100 ä¸ªå­—ç¬¦é•¿)

- è·å–å›½æ ‡ID

  ```java
  String getGbId()
  ```

- è®¾ç½®å›½æ ‡ID

  ```java
  void setGbId(String gbId)
  ```

- è·å–ç”¨æˆ·å

  ```java
  String getUsername()
  ```

  å‚æ•°è¯´æ˜ï¼šç”¨æˆ·å, 4~40ä½ï¼Œå¯åŒ…å«å¤§å†™å­—æ¯ã€å°å†™å­—æ¯ã€æ•°å­—ã€ä¸­åˆ’çº¿ï¼Œå»ºè®®ä¸è®¾å¤‡å›½æ ‡IDä¸€è‡´

- è®¾ç½®ç”¨æˆ·å

  ```java
   void setUsername(String username)
  ```

- è·å–å¯†ç 

  ```java
  String getPassword()
  ```

- è®¾ç½®å¯†ç 

  ```java
  void setPassword(String password)
  ```

  å‚æ•°è¯´æ˜ï¼šå¯†ç , 4~40ä½ï¼Œå¯åŒ…å«å¤§å†™å­—æ¯ã€å°å†™å­—æ¯ã€æ•°å­—ã€ä¸­åˆ’çº¿

- æ˜¯å¦æ³¨å†ŒæˆåŠŸåå¯åŠ¨æ‹‰æµ

  ```java
  boolean isPullIfRegister()
  ```

- è®¾ç½®æ˜¯å¦æ³¨å†ŒæˆåŠŸåå¯åŠ¨æ‹‰æµ

  ```java
  void setPullIfRegister(boolean pullIfRegister)
  ```

- è·å–æè¿°ä¿¡æ¯

  ```java
  String getDesc() 
  ```

- è®¾ç½®æè¿°ä¿¡æ¯

  ```java
  void setDesc(String desc)
  ```

### ç¤ºä¾‹

```java
// åˆ›å»ºè®¾å¤‡
DeviceManager deviceManager = new DeviceManager(auth);
Device device = new Device();
device.setUsername("admin");
device.setPassword("123456");

String namespaceId = "3nm4x0v0h6vjr";
deviceManager.createDevice(namespaceId, device);
```
<br/>

## **åˆ é™¤è®¾å¤‡**

```java
Response deleteDevice(String namespaceId, String gbId) throws QiniuException 
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜   |
| ----------- | ------ |
| namespaceId | ç©ºé—´id |
| gbId        | å›½æ ‡id |

### ç¤ºä¾‹

```java
// åˆ é™¤è®¾å¤‡
String namespaceId = "3nm4x0v0h6vjr";
device.setGbId("31011500991320000056");
deviceManager.deleteDevice(namespaceId, device.getGbId());
```
<br/>

## **æŸ¥è¯¢è®¾å¤‡**

```java
Response queryDevice(String namespaceId, String gbId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜   |
| ----------- | ------ |
| namespaceId | ç©ºé—´id |
| gbId        | å›½æ ‡id |

### ç¤ºä¾‹

```java
// æŸ¥è¯¢è®¾å¤‡
String namespaceId = "3nm4x0v0h6vjr";
device.setGbId("31011500991320000056");
deviceManager.queryDevice(namespaceId, device.getGbId());
```
<br/>

## **æ›´æ–°è®¾å¤‡**

```java
Response updateDevice(String namespaceId, String gbId, PatchOperation[] patchOperation) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°           | è¯´æ˜                                   |
| -------------- | -------------------------------------- |
| namespaceId    | ç©ºé—´id                                 |
| gbId           | å›½æ ‡id                                 |
| patchOperation | æ“ä½œé›†ï¼Œè¯¦è§`PatchOperationç±»æ–¹æ³•è¯´æ˜` |

### ç¤ºä¾‹

```java
// æ›´æ–°è®¾å¤‡
PatchOperation[] patchOperation = {new PatchOperation("replace", "name", "GBTEST")};
String namespaceId = "3nm4x0v0h6vjr";
device.setGbId("31011500991320000056");
deviceManager.updateDevice(namespaceId, device.getGbId(), patchOperation);
```
<br/>

## **è·å–è®¾å¤‡åˆ—è¡¨**

```java
Response listDevice(String namespaceId, int offset, int line, String prefix, String state, int qtype)
            throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                                                         |
| ----------- | ------------------------------------------------------------ |
| namespaceId | ç©ºé—´id                                                       |
| offset      | åœ¨å…¨éƒ¨æµä¸­çš„åç§»é‡                                           |
| line        | ä¸€æ¬¡è¿”å›å¤šå°‘æ¡                                               |
| prefix      | å¯ä»¥é€šè¿‡gbidå‰ç¼€è¿›è¡Œæ£€ç´¢æŸ¥è¯¢                                 |
| state       | æŒ‰è®¾å¤‡çŠ¶æ€æŸ¥è¯¢ï¼Œoffline: ç¦»çº¿, online: åœ¨çº¿, notReg: æœªæ³¨å†Œ, locked: é”å®š |
| qtype       | æŒ‰è®¾å¤‡ç±»å‹æŸ¥è¯¢ï¼Œ0:å…¨éƒ¨, 1:æ‘„åƒå¤´, 2:å¹³å°                     |

### ç¤ºä¾‹

```java
/ è·å–è®¾å¤‡åˆ—è¡¨
int offset = 0;
int line = 3;
int qtype = 0;
String prefix = "310";
String state = "notReg";
String namespaceId = "3nm4x0v0h6vjr";

deviceManager.listDevice(namespaceId, offset, line, prefix, state, qtype);
```
<br/>

## **è·å–é€šé“åˆ—è¡¨**

```java
Response listChannels(String namespaceId, String gbId, String prefix) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜           |
| ----------- | -------------- |
| namespaceId | ç©ºé—´id         |
| gbId        | å›½æ ‡id         |
| prefix      | é€šé“å›½æ ‡IDå‰ç¼€ |

### ç¤ºä¾‹

```java
// è·å–é€šé“åˆ—è¡¨
String namespaceId = "3nm4x0v0h6vjr";
String prefix = "320";
device.setGbId("31011500991320000056");
deviceManager.listChannels(namespaceId, device.getGbId(), prefix);
```
<br/>

## **å¯åŠ¨è®¾å¤‡æ‹‰æµ**

```java
Response startDevice(String namespaceId, String gbId, String[] channels) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜     |
| ----------- | -------- |
| namespaceId | ç©ºé—´id   |
| gbId        | å›½æ ‡id   |
| channels    | é€šé“åˆ—è¡¨ |

### ç¤ºä¾‹

```java
// å¯åŠ¨è®¾å¤‡æ‹‰æµ
String namespaceId = "3nm4x0v0h6vjr";
device.setGbId("31011500991320000056");
deviceManager.startDevice(namespaceId, device.getGbId(), new String[]{"31011500991320000056"});
```
<br/>

## **åœæ­¢è®¾å¤‡æ‹‰æµ**

```java
Response stopDevice(String namespaceId, String gbId, String[] channels) throws QiniuException 
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜     |
| ----------- | -------- |
| namespaceId | ç©ºé—´id   |
| gbId        | å›½æ ‡id   |
| channels    | é€šé“åˆ—è¡¨ |

### ç¤ºä¾‹

```java
// åœæ­¢è®¾å¤‡æ‹‰æµ
String namespaceId = "3nm4x0v0h6vjr";
device.setGbId("31011500991320000056");
deviceManager.stopDevice(namespaceId, device.getGbId(), new String[]{"31011500991320000056"});
```
<br/>

## **åŒæ­¥è®¾å¤‡é€šé“**

```java
Response fetchCatalog(String namespaceId, String gbId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜     |
| ----------- | -------- |
| namespaceId | ç©ºé—´id   |
| gbId        | å›½æ ‡id   |

### ç¤ºä¾‹

```java
// åŒæ­¥è®¾å¤‡é€šé“
String namespaceId = "2xenzw5o81ods";
device.setGbId("31011500991320000356");
deviceManager.fetchCatalog(namespaceId, device.getGbId());
```
<br/>

## **æŸ¥è¯¢é€šé“è¯¦æƒ…**

```java
Response queryChannel(String namespaceId, String gbId, String channelId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜     |
| ----------- | -------- |
| namespaceId | ç©ºé—´id   |
| gbId        | å›½æ ‡id   |
| channelId   | é€šé“id   |

### ç¤ºä¾‹

```java
// æŸ¥è¯¢é€šé“è¯¦æƒ…
deviceManager.queryChannel("3nm4x0vyz7xlu", "31011500991180000270", "34020000001310000020");
```
<br/>

## **åˆ é™¤é€šé“**

```java
Response deleteChannel(String namespaceId, String gbId, String channelId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜     |
| ----------- | -------- |
| namespaceId | ç©ºé—´id   |
| gbId        | å›½æ ‡id   |
| channelId   | é€šé“id   |

### ç¤ºä¾‹

```java
// åˆ é™¤é€šé“
deviceManager.deleteChannel("3nm4x0vyz7xlu", "31011500991180000270", "34020000001310000020");
```
<br/>

## **æŸ¥è¯¢æœ¬åœ°å½•åƒåˆ—è¡¨**

```java
Response queryGBRecordHistories(String namespaceId, String gbId, String channelId, int start, int end) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜     |
| ----------- | -------- |
| namespaceId | ç©ºé—´id   |
| gbId        | å›½æ ‡id   |
| channelId   | ç½‘å…³è®¾å¤‡æ—¶ä¸ºé€šé“ID(æ™®é€šè®¾å¤‡å¯ä»¥å¿½ç•¥) |
| start       | æŸ¥è¯¢å¼€å§‹æ—¶é—´(unixæ—¶é—´æˆ³,å•ä½ä¸ºç§’) |
| end         | æŸ¥è¯¢ç»“æŸæ—¶é—´(unixæ—¶é—´æˆ³,å•ä½ä¸ºç§’) |

### ç¤ºä¾‹

```java
// æŸ¥è¯¢æœ¬åœ°å½•åƒåˆ—è¡¨
deviceManager.queryGBRecordHistories("3nm4x0vyz7xlu", "31011500991180000270", "34020000001310000020", 1604817540, 1604903940);
```

# **æ¨¡æ¿ç®¡ç†**

## **åˆ›å»ºæ¨¡æ¿**

```java
Response createTemplate(Template template) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°     | è¯´æ˜                               |
| -------- | ---------------------------------- |
| template | æ¨¡æ¿å‚æ•°ï¼Œè¯¦è§`Templateç±»æ–¹æ³•è¯´æ˜` |

### Templateç±»æ–¹æ³•è¯´æ˜

- è·å–æ¨¡æ¿id

  ```java
  String getId() 
  ```

- è®¾ç½®æ¨¡æ¿id

  ```java
  void setId(String id) 
  ```

- è·å–æ¨¡æ¿åç§°

  ```java
  String getName() 
  ```

- è®¾ç½®æ¨¡æ¿åç§°

  ```java
  void setName(String name) 
  ```

  å‚æ•°è¯´æ˜ï¼šæ¨¡ç‰ˆåç§°ï¼Œæ ¼å¼ä¸º 4 ~ 100ä¸ªå­—ç¬¦ï¼Œå¯åŒ…å«å°å†™å­—æ¯ã€æ•°å­—ã€ä¸­åˆ’çº¿ã€æ±‰å­—)

- è·å–æ¨¡æ¿æè¿°ä¿¡æ¯

  ```java
  String getDesc() 
  ```

- è®¾ç½®æ¨¡æ¿æè¿°ä¿¡æ¯

  ```java
  void setDesc(String desc) 
  ```

- è·å–æ¨¡ç‰ˆå¯¹åº”çš„å¯¹è±¡å­˜å‚¨çš„bucket

  ```java
  String getBucket() 
  ```

- è®¾ç½®æ¨¡ç‰ˆå¯¹åº”çš„å¯¹è±¡å­˜å‚¨çš„bucket

  ```java
  void setBucket(String bucket) 
  ```

- è·å–å­˜å‚¨è¿‡æœŸæ—¶é—´

  ```java
  int getDeleteAfterDays() 
  ```

- è®¾ç½®å­˜å‚¨è¿‡æœŸæ—¶é—´,é»˜è®¤æ°¸ä¹…ä¸è¿‡æœŸ

  ```java
  void setDeleteAfterDays(int deleteAfterDays) 
  ```

- è·å–æ¨¡æ¿ç±»å‹

  ```java
  int getTemplateType() 
  ```

- è®¾ç½®æ¨¡æ¿ç±»å‹

  ```java
  void setTemplateType(int templateType) 
  ```

  å‚æ•°è¯´æ˜: æ¨¡æ¿ç±»å‹,å–å€¼ï¼š0ï¼ˆå½•åˆ¶æ¨¡ç‰ˆï¼‰, 1ï¼ˆæˆªå›¾æ¨¡ç‰ˆï¼‰

- è·å–æ–‡ä»¶å­˜å‚¨ç±»å‹

  ```java
  int getFileType() 
  ```

- è®¾ç½®æ–‡ä»¶å­˜å‚¨ç±»å‹

  ```java
  void setFileType(int fileType) 
  ```

  å‚æ•°è¯´æ˜: æ–‡ä»¶å­˜å‚¨ç±»å‹,å–å€¼ï¼š0ï¼ˆæ™®é€šå­˜å‚¨ï¼‰,1ï¼ˆä½é¢‘å­˜å‚¨ï¼‰

- è·å–å½•åˆ¶æ¨¡å¼

  ```java
  int getRecordType() 
  ```

- è®¾ç½®å½•åˆ¶æ¨¡å¼

  ```java
  void setRecordType(int recordType) 
  ```

  å‚æ•°è¯´æ˜: å½•åˆ¶æ¨¡å¼, 0ï¼ˆä¸å½•åˆ¶ï¼‰,1ï¼ˆå®æ—¶å½•åˆ¶ï¼‰, 2ï¼ˆæŒ‰éœ€å½•åˆ¶ï¼‰

- è·å–å½•åˆ¶æ–‡ä»¶å­˜å‚¨æ ¼å¼

  ```java
  int getRecordFileFormat() 
  ```

- è®¾ç½®å½•åˆ¶æ–‡ä»¶å­˜å‚¨æ ¼å¼

  ```java
  void setRecordFileFormat(int recordFileFormat) 
  ```

  å‚æ•°è¯´æ˜: å½•åˆ¶æ–‡ä»¶å­˜å‚¨æ ¼å¼(å¤šé€‰), èŒƒå›´ï¼š1(001)ï½7(111), ä»å·¦å¾€å³çš„ä¸‰ä½äºŒè¿›åˆ¶æ•°åˆ†åˆ«ä»£è¡¨MP4, FLV, M3U8; 0ä»£è¡¨ä¸é€‰æ‹©è¯¥æ ¼å¼, 1ä»£è¡¨é€‰æ‹©;ä¾‹å¦‚ï¼š2(010)ä»£è¡¨é€‰æ‹©FLVæ ¼å¼ï¼Œ6(110)ä»£è¡¨é€‰æ‹©MP4å’ŒFLVæ ¼å¼ï¼Œ1(001)ä»£è¡¨é€‰æ‹©M3U8æ ¼å¼ï¼Œ7(111)ä»£è¡¨ä¸‰ç§æ ¼å¼å‡é€‰æ‹©

- è·å–tsæ–‡ä»¶åå­—æ¨¡æ¿

  ```java
  String getTsFilenametemplate() 
  ```

- è®¾ç½®tsæ–‡ä»¶åå­—æ¨¡æ¿

  ```java
  // record/ts/${namespaceId}/${streamId}/${startMs}-${endMs}.ts  
  void setTsFilenametemplate(String tsFilenametemplate) 
  ```

- è·å–å½•åˆ¶å°é¢åå­—æ¨¡æ¿

  ```java
  String getRecordSnapFileNameFmt() 
  ```

- è®¾ç½®å½•åˆ¶å°é¢åå­—æ¨¡æ¿

  ```java
  // record/snap/${namespaceId}/${streamId}/${startMs}.jpg  
  void setRecordSnapFileNameFmt(String recordSnapFileNameFmt) 
  ```

- è·å–æ˜¯å¦å¼€å¯è¦†ç›–å¼æˆªå›¾

  ```java
  boolean isJpgOverwriteStatus() 
  ```

- è®¾ç½®æ˜¯å¦å¼€å¯è¦†ç›–å¼æˆªå›¾

  ```java
  void setJpgOverwriteStatus(boolean jpgOverwriteStatus) 
  ```

- è·å–æ˜¯å¦å¼€å¯åºåˆ—å¼æˆªå›¾

  ```java
  boolean isJpgSequenceStatus() 
  ```

- è®¾ç½®æ˜¯å¦å¼€å¯åºåˆ—å¼æˆªå›¾

  ```java
  void setJpgSequenceStatus(boolean jpgSequenceStatus) 
  ```

- è·å–æ˜¯å¦å¼€å¯æŒ‰éœ€æˆªå›¾

  ```java
  boolean isJpgOnDemandStatus() 
  ```

- è®¾ç½®æ˜¯å¦å¼€å¯æŒ‰éœ€æˆªå›¾

  ```java
  void setJpgOnDemandStatus(boolean jpgOnDemandStatus) 
  ```

- è·å–è¦†ç›–å¼æˆªå›¾æ–‡ä»¶å‘½åæ ¼å¼

  ```java
  String getJpgOverwriteFileNameTemplate() 
  ```

- è®¾ç½®è¦†ç›–å¼æˆªå›¾æ–‡ä»¶å‘½åæ ¼å¼

  ```java
  void setJpgOverwriteFileNameTemplate(String  jpgOverwriteFileNameTemplate) 
  ```

- è·å–åºåˆ—å¼æˆªå›¾æ–‡ä»¶å‘½åæ ¼å¼

  ```java
  String getJpgSequenceFileNameTemplate() 
  ```

- è®¾ç½®åºåˆ—å¼æˆªå›¾æ–‡ä»¶å‘½åæ ¼å¼

  ```java
  void setJpgSequenceFileNameTemplate(String jpgSequenceFileNameTemplate) 
  ```

- è·å–æŒ‰éœ€å¼æˆªå›¾æ–‡ä»¶å‘½åæ ¼å¼

  ```java
  String getJpgOnDemandFileNameTemplate() 
  ```

- è®¾ç½®æŒ‰éœ€å¼æˆªå›¾æ–‡ä»¶å‘½åæ ¼å¼

  ```java
  void setJpgOnDemandFileNameTemplate(String jpgOnDemandFileNameTemplate) 
  ```

- è·å–æ¨¡æ¿åˆ›å»ºæ—¶é—´

  ```java
  int getCreatedAt() 
  ```

- è®¾ç½®æ¨¡æ¿åˆ›å»ºæ—¶é—´

  ```java
  void setCreatedAt(int createdAt) 
  ```

- è·å–æ¨¡æ¿æ›´æ–°æ—¶é—´

  ```java
  int getUpdatedAt() 
  ```

- è®¾ç½®æ¨¡æ¿æ›´æ–°æ—¶é—´

  ```java
  void setUpdatedAt(int updatedAt) 
  ```

- è·å–å½•åˆ¶æ–‡ä»¶æ—¶é•¿

  ```java
  int getRecordInterval() 
  ```

- è®¾ç½®å½•åˆ¶æ–‡ä»¶æ—¶é•¿

  ```java
  void setRecordInterval(int recordInterval) 
  ```

  å‚æ•°è¯´æ˜: å•ä½ä¸ºç§’

- è·å–æˆªå›¾é—´éš”

  ```java
  int getSnapInterval() 
  ```

- è®¾ç½®æˆªå›¾é—´éš”

  ```java
  void setSnapInterval(int snapInterval) 
  ```

  å‚æ•°è¯´æ˜ï¼šå•ä½ä¸ºç§’

- è·å–m3u8æ–‡ä»¶å‘½åæ ¼å¼

  ```java
  String getM3u8FileNameTemplate() 
  ```

- è®¾ç½®m3u8æ–‡ä»¶å‘½åæ ¼å¼

  ```java
  void setM3u8FileNameTemplate(String m3u8FileNameTemplate) 
  ```

- è·å–flvæ–‡ä»¶å‘½åæ ¼å¼

  ```java
  String getFLVFileNameTemplate() 
  ```

- è®¾ç½®flvæ–‡ä»¶å‘½åæ ¼å¼

  ```java
  void setFLVFileNameTemplate(String flvFileNameTemplate) 
  ```
	
- è·å–mp4æ–‡ä»¶å‘½åæ ¼å¼

  ```java
  String getMp4FileNameTemplate() 
  ```

- è®¾ç½®mp4æ–‡ä»¶å‘½åæ ¼å¼

  ```java
  void setMp4FileNameTemplate(String mp4FileNameTemplate) 
  ```
	
	
### ç¤ºä¾‹

```java
// åˆ›å»ºæ¨¡æ¿
Template template = new Template();
template.setName("testtemplate001");
template.setBucket("Testforhugo");
template.setTemplateType(1);
template.setJpgOverwriteStatus(true);
template.setRecordType(2);

templateManager.createTemplate(template);
```
<br/>

## **æŸ¥è¯¢æ¨¡æ¿**

```java
Response queryTemplate(String templateId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°       | è¯´æ˜   |
| ---------- | ------ |
| templateId | æ¨¡æ¿id |

### ç¤ºä¾‹

```java
// æŸ¥è¯¢æ¨¡æ¿
String templateId = "2akrarsl22iil";
templateManager.queryTemplate(templateId);
```
<br/>

## **æ›´æ–°æ¨¡æ¿**

```java
Response updateTemplate(String templateId, PatchOperation[] patchOperation) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°           | è¯´æ˜                                   |
| -------------- | -------------------------------------- |
| templateId     | æ¨¡æ¿id                                 |
| patchOperation | æ“ä½œé›†ï¼Œè¯¦è§`PatchOperationç±»æ–¹æ³•è¯´æ˜` |

### ç¤ºä¾‹

```java
// æ›´æ–°æ¨¡æ¿
String templateId = "2akrarsl22iil";
PatchOperation[] patchOperation = {new PatchOperation("replace", "name","testtemplate002")};
templateManager.updateTemplate(templateId, patchOperation);
```
<br/>

## **è·å–æ¨¡æ¿åˆ—è¡¨**

```java
Response listTemplate(int offset, int line, int templateType, String match) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°         | è¯´æ˜                                        |
| ------------ | ------------------------------------------- |
| offset       | åœ¨å…¨éƒ¨templatesä¸­çš„åç§»é‡                   |
| line         | ä¸€æ¬¡è¿”å›å¤šå°‘æ¡                              |
| templateType | æ¨¡æ¿ç±»å‹ï¼Œå–å€¼ï¼š0ï¼ˆå½•åˆ¶æ¨¡ç‰ˆï¼‰, 1ï¼ˆæˆªå›¾æ¨¡ç‰ˆ) |
| match        | æ¨¡ç³ŠåŒ¹é…æŸ¥è¯¢(æ¨¡ç‰ˆåç§°åŒ…å«matchä¸²æ—¶è¿”å›)     |

### ç¤ºä¾‹

```java
// è·å–æ¨¡æ¿åˆ—è¡¨
int offset = 0;
int line = 1;
int templateType = 1;
String match = "test";

templateManager.listTemplate(offset, line, templateType, match);
```
<br/>

## **åˆ é™¤æ¨¡æ¿**

```java
Response deleteTemplate(String templateId)
```

### ç¤ºä¾‹

```java
// åˆ é™¤æ¨¡æ¿
String templateId = "2akrarsl22iil";
templateManager.deleteTemplate(templateId);
```

# **å½•åˆ¶ç®¡ç†**

## **æŸ¥è¯¢å½•åˆ¶è®°å½•**

```java
Response queryStreamRecordHistories(String namespaceId, String streamId, int start, int end, int line, String marker) throws QiniuException
Response queryStreamRecordHistories(String namespaceId, String streamId, int start, int end, int line, String marker, String format) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| streamId    | æµID                              |
| start       | æŸ¥è¯¢å¼€å§‹æ—¶é—´(unixæ—¶é—´æˆ³,å•ä½ä¸ºç§’) |
| end         | æŸ¥è¯¢ç»“æŸæ—¶é—´(unixæ—¶é—´æˆ³,å•ä½ä¸ºç§’) |
| line        | ä¸€æ¬¡è¿”å›å¤šå°‘æ¡                    |
| marker      | ä¸Šæ¬¡è¿”å›çš„markerå€¼                |
| format      | æŸ¥è¯¢çš„æ–‡ä»¶ç±»å‹                    |

### ç¤ºä¾‹

```java
// æŸ¥è¯¢å½•åˆ¶è®°å½•
int start = 1587975463;
int end = 1587976463;
String maker = "";
String namespaceId = "3nm4x0v0h6vjr";
Stream stream = new Stream("teststream004");

streamManager.queryStreamRecordHistories(namespaceId, stream.getStreamID(), start, end, line, maker);
```
<br/>

## **æŸ¥è¯¢æµå°é¢**

```java
Response queryStreamCover(String namespaceId, String streamId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜   |
| ----------- | ------ |
| namespaceId | ç©ºé—´id |
| streamId    | æµID   |

### ç¤ºä¾‹

```java
// æŸ¥è¯¢æµå°é¢ 
String namespaceId = "3nm4x0v0h6vjr";
Stream stream = new Stream("teststream004");
streamManager.queryStreamCover(namespaceId, stream.getStreamID());
```
<br/>

## **è·å–æˆªå›¾åˆ—è¡¨**

```java
Response streamsSnapshots(String namespaceId, String streamId, int start, int end, int type, int line, String marker) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| streamId    | æµID                              |
| start       | æŸ¥è¯¢å¼€å§‹æ—¶é—´(unixæ—¶é—´æˆ³,å•ä½ä¸ºç§’) |
| end         | æŸ¥è¯¢ç»“æŸæ—¶é—´(unixæ—¶é—´æˆ³,å•ä½ä¸ºç§’) |
| line        | ä¸€æ¬¡è¿”å›å¤šå°‘æ¡                    |
| marker      | ä¸Šæ¬¡è¿”å›çš„markerå€¼                |
| type        | 1:å®æ—¶æˆªå›¾å¯¹åº”çš„å›¾ç‰‡åˆ—è¡¨          |

### ç¤ºä¾‹

```java
String namespaceId = "3nm4x0v0h6vjr";
Stream stream = new Stream("teststream004");
int start = 1587975463;
int end = 1587976463;
int line = 1;
streamManager.streamsSnapshots(namespaceId, stream.getStreamID(), start, end, 0, line, "");
```
<br/>

## **æŒ‰éœ€æˆªå›¾**

```java
Response ondemandSnap(String namespaceId, String streamId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| streamId    | æµID                              |

### ç¤ºä¾‹

```java
res = streamManager.ondemandSnap("2xenzw5o81ods", "31011500991320000356");
```
<br/>

## **åˆ é™¤æˆªå›¾**

```java
Response deleteSnapshots(String namespaceId, String streamId, String[] files) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| streamId    | æµID                              |
| files       | åˆ é™¤çš„æˆªå›¾æ–‡ä»¶åç§°æ•°ç»„               |
<br/>

## **å¯åŠ¨æŒ‰éœ€å½•åˆ¶**

```java
Response startRecord(String namespaceId, String streamId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| streamId    | æµID                              |

### ç¤ºä¾‹

```java
res = recordManager.startRecord("2xenzw5o81ods", "31011500991320000356");
```
<br/>

## **åœæ­¢æŒ‰éœ€å½•åˆ¶**

```java
Response stopRecord(String namespaceId, String streamId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| streamId    | æµID                              |

### ç¤ºä¾‹

```java
res = recordManager.stopRecord("2xenzw5o81ods", "31011500991320000356");
```
<br/>

## **åˆ é™¤å½•åˆ¶ç‰‡æ®µ**

```java
Response deleteStreamRecordHistories(String namespaceId, String streamId, String[] files) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| streamId    | æµID                              |
| files       | åˆ é™¤çš„å½•åˆ¶æ–‡ä»¶åç§°æ•°ç»„               |
<br/>

## **å½•åˆ¶è§†é¢‘ç‰‡æ®µåˆå¹¶**

```java
Response recordClipsSaveas(String namespaceId, String streamId, String fname, String format, int start, int end, boolean deleteTs, String pipeline, String notifyUrl, int deleteAfterDays) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| streamId    | æµID                              |
| fname       | ä¿å­˜çš„æ–‡ä»¶å(éœ€è¦å¸¦ä¸Šæ–‡ä»¶æ ¼å¼åç¼€),ä¸æŒ‡å®šç³»ç»Ÿä¼šéšæœºç”Ÿæˆ |
| format      | ä¿å­˜çš„æ–‡ä»¶æ ¼å¼,å¯ä»¥ä¸ºm3u8, mp4æˆ–è€…flv |
| start       | æŸ¥è¯¢å¼€å§‹æ—¶é—´(unixæ—¶é—´æˆ³,å•ä½ä¸ºç§’) |
| end         | æŸ¥è¯¢ç»“æŸæ—¶é—´(unixæ—¶é—´æˆ³,å•ä½ä¸ºç§’) |
| deleteTs    | åœ¨ä¸ç”Ÿæˆm3u8æ ¼å¼æ–‡ä»¶æ—¶æ˜¯å¦åˆ é™¤å¯¹åº”çš„tsæ–‡ä»¶ |
| pipeline    | æ•°æ®å¤„ç†çš„ç§æœ‰é˜Ÿåˆ—ï¼Œä¸æŒ‡å®šåˆ™ä½¿ç”¨å…¬å…±é˜Ÿåˆ— |
| notifyUrl   | ä¿å­˜æˆåŠŸå›è°ƒé€šçŸ¥åœ°å€ï¼Œä¸æŒ‡å®šåˆ™ä¸é€šçŸ¥ |
| deleteAfterDays | æ–‡ä»¶è¿‡æœŸæ—¶é—´,é»˜è®¤å’Œå½•åˆ¶æ¨¡ç‰ˆä¸­çš„è®¾ç½®ä¿æŒä¸€è‡´ |

### ç¤ºä¾‹

```java
res = recordManager.recordClipsSaveas("2xenzw5o81ods", "31011500991320000356", "", "m3u8", 1605254612, 1605255300, false, "", "", 0);
```
<br/>

## **å½•åˆ¶å›æ”¾**

```java
Response recordsPlayback(String namespaceId, String streamId, int start, int end) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| streamId    | æµID                              |
| start       | æŸ¥è¯¢å¼€å§‹æ—¶é—´(unixæ—¶é—´æˆ³,å•ä½ä¸ºç§’)     |  
| end         | æŸ¥è¯¢ç»“æŸæ—¶é—´(unixæ—¶é—´æˆ³,å•ä½ä¸ºç§’ï¼‰    |

### ç¤ºä¾‹

```java
res = recordManager.recordsPlayback("2xenzw5o81ods", "31011500991320000356", 1605254612, 1605255300);
```

# **æ•°æ®ç»Ÿè®¡ç®¡ç†**

## **æŸ¥è¯¢å¸¦å®½æ•°æ®**

```java
Response queryBandwidth(String namespaceId, String streamId, String tu, int start, int end) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| streamId    | æµID                              |
| start       | å¹´æœˆæ—¥æ¨¡å¼(20191001)æˆ–è€…å¹´æœˆæ—¥æ—¶åˆ†ç§’æ¨¡å¼(20201012204005)     |  
| end         | å¹´æœˆæ—¥æ¨¡å¼(20191002)æˆ–è€…å¹´æœˆæ—¥æ—¶åˆ†ç§’æ¨¡å¼(20201012204005)    |
| tu          | æ—¶é—´ç²’åº¦ å¯ä»¥æ˜¯ 5min, hour, day   |

### ç¤ºä¾‹

```java
res = statsManager.queryBandwidth("", "", "5min", 20200901, 20200902);
```
<br/>

## **æŸ¥è¯¢æµé‡æ•°æ®**

```java
Response queryFlow(String namespaceId, String streamId, String tu, int start, int end) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| streamId    | æµID                              |
| start       | å¹´æœˆæ—¥æ¨¡å¼(20191001)æˆ–è€…å¹´æœˆæ—¥æ—¶åˆ†ç§’æ¨¡å¼(20201012204005)     |  
| end         | å¹´æœˆæ—¥æ¨¡å¼(20191002)æˆ–è€…å¹´æœˆæ—¥æ—¶åˆ†ç§’æ¨¡å¼(20201012204005)    |
| tu          | æ—¶é—´ç²’åº¦ å¯ä»¥æ˜¯ 5min, hour, day   |

### ç¤ºä¾‹

```java
res = statsManager.queryFlow("", "", "5min", 20200901, 20200902);
```

# **PTZç®¡ç†**

## **äº‘å°æ§åˆ¶**

```java
Response ptzControl(String namespaceId, String gbId, String cmd, int speed, String chId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| gbId        | è®¾å¤‡å›½æ ‡Id                             |
| cmd         | left(å‘å·¦), right(å‘å³), up(å‘ä¸Š), down(å‘ä¸‹), leftup(å·¦ä¸Š), rightup(å³ä¸Š), leftdown(å·¦ä¸‹), rightdown(å³ä¸‹), zoomin(ç¼©å°), zoomout(æ”¾å¤§),stop(åœæ­¢PTZæ“ä½œ)    |  
| speed       | è°ƒèŠ‚é€Ÿåº¦(1~10, é»˜è®¤ä½5)   |
| chId        | å­è®¾å¤‡å›½æ ‡ID  |

### ç¤ºä¾‹

```java
res = ptzManager.ptzControl("2xenzw5o81ods", "31011500991320000382", "up", 5, "");
```
<br/>

## **å˜ç„¦æ§åˆ¶**

```java
Response focusControl(String namespaceId, String gbId, String cmd, int speed, String chId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| gbId        | è®¾å¤‡å›½æ ‡Id                             |
| cmd         | focusnear(ç„¦è·å˜è¿‘), focusfar(ç„¦è·å˜è¿œ),stop(åœæ­¢)    |  
| speed       | è°ƒèŠ‚é€Ÿåº¦(1~10, é»˜è®¤ä½5)   |
| chId        | å­è®¾å¤‡å›½æ ‡ID  |

### ç¤ºä¾‹

```java
res = ptzManager.focusControl("2xenzw5o81ods", "31011500991320000382", "focusfar", 5, "");
```
<br/>

## **å…‰åœˆæ§åˆ¶**

```java
Response irisControl(String namespaceId, String gbId, String cmd, int speed, String chId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| gbId        | è®¾å¤‡å›½æ ‡Id                             |
| cmd         | irisin(å…‰åœˆå˜å°), irisout(å…‰åœˆå˜å¤§),stop(åœæ­¢)    |  
| speed       | è°ƒèŠ‚é€Ÿåº¦(1~10, é»˜è®¤ä½5)   |
| chId        | å­è®¾å¤‡å›½æ ‡ID  |

### ç¤ºä¾‹

```java
res = ptzManager.irisControl("2xenzw5o81ods", "31011500991320000382", "irisin", 5, "");
```
<br/>

## **é¢„ç½®ä½æ§åˆ¶**

```java
Response presetsControl(String namespaceId, String gbId, String cmd, String name, int presetId, String chId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| gbId        | è®¾å¤‡å›½æ ‡Id                             |
| cmd         | set(æ–°å¢é¢„ç½®ä½), goto(è®¾ç½®),remove(åˆ é™¤)   |  
| name        | é¢„ç½®ä½åç§°(cmdä¸ºsetæ—¶æœ‰æ•ˆ,æ”¯æŒä¸­æ–‡)  |
| presetId    | é¢„ç½®ä½ID          |
| chId        | å­è®¾å¤‡å›½æ ‡ID  |

### ç¤ºä¾‹

```java
res = ptzManager.presetsControl("2xenzw5o81ods", "31011500991320000382", "set", "test", 0, "");
```
<br/>

## **è·å–é¢„ç½®ä½åˆ—è¡¨**

```java
Response listPresets(String namespaceId, String gbId, String chId) throws QiniuException
```

### å‚æ•°è¯´æ˜

| å‚æ•°        | è¯´æ˜                              |
| ----------- | --------------------------------- |
| namespaceId | ç©ºé—´id                            |
| gbId        | è®¾å¤‡å›½æ ‡Id                        |
| chId        | å­è®¾å¤‡å›½æ ‡ID  |

### ç¤ºä¾‹

```java
res = ptzManager.listPresets("2xenzw5o81ods", "31011500991320000382", "");
```