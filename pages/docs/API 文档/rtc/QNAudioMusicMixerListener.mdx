<link rel="stylesheet" type="text/css" href="https://docs.qnsdk.com/styles/doc-v4-api.css" />
<div class="rtc-doc rtc-doc-page" id="rtc-doc">
<section class="rtc-doc-panel rtc-doc-describe rtc-doc-note">
                混音过程中的回调监听函数，可以通过 <a href='11210/QNMicrophoneAudioTrack#CreateAudioMusicMixer'>QNMicrophoneAudioTrack.CreateAudioMusicMixer</a> 创建 <a href='11987/QNAudioMusicMixer'>QNAudioMusicMixer</a> 时传入</section>
            <div class="rtc-doc-page-wrap">Index</div>
<section class="rtc-doc-panel">
        <div class="rtc-doc-page-title">Core Methods</div>
        <ul class="rtc-doc-catalogue">
                <li><a onClick='document.location.replace(`${document.location.protocol}//${document.location.host}${document.location.pathname}${document.location.search}#OnAudioMusicMixerStateChanged`)'>OnAudioMusicMixerStateChanged</a></li>
                <li><a onClick='document.location.replace(`${document.location.protocol}//${document.location.host}${document.location.pathname}${document.location.search}#OnAudioMusicMixing`)'>OnAudioMusicMixing</a></li>
                <li><a onClick='document.location.replace(`${document.location.protocol}//${document.location.host}${document.location.pathname}${document.location.search}#OnAudioMusicMixerError`)'>OnAudioMusicMixerError</a></li>
        </ul>
</section>
<div class="rtc-doc-page-wrap">Core Methods</div>
<section class="rtc-doc-panel">
<div class="rtc-doc-page-title rtc-doc-antor" id="OnAudioMusicMixerStateChanged">OnAudioMusicMixerStateChanged</div>
<ul class="rtc-doc-page-container">
        <li class="rtc-doc-sign-signature">virtual void OnAudioMusicMixerStateChanged(QNMusicMixerState music_state) = 0</li>
    </li>
<li class="rtc-doc-page-description">
    <div class="rtc-doc-desc-wrap">
        <p>混音状态改变时触发此回调</p>
    </div>
    <section class="rtc-doc-panel rtc-doc-describe-note">
        <blockquote>
        <p><a href='11987/QNAudioMusicMixer#SeekTo'>QNAudioMusicMixer.SeekTo</a> 操作成功后会触发 <a href='11991/QNMusicMixerState#kStateMixing'>QNMusicMixerState.kStateMixing</a> 状态的回调</p>
        </blockquote>
    </section>
<div class="rtc-doc-parameters-title">Parameters</div>
<ul class="rtc-doc-parameters">
    <li>
        <div>
            music_state: <a href='11991/QNMusicMixerState'>QNMusicMixerState</a>
        </div>
                <p>当前的混音状态</p>
    </li>
</ul>
</li>
</ul>
</section>
<section class="rtc-doc-panel">
<div class="rtc-doc-page-title rtc-doc-antor" id="OnAudioMusicMixing">OnAudioMusicMixing</div>
<ul class="rtc-doc-page-container">
        <li class="rtc-doc-sign-signature">virtual void OnAudioMusicMixing(int64_t current_pos) = 0</li>
    </li>
<li class="rtc-doc-page-description">
    <div class="rtc-doc-desc-wrap">
        <p>混音操作进行过程中会不断触发此回调</p>
    </div>
<div class="rtc-doc-parameters-title">Parameters</div>
<ul class="rtc-doc-parameters">
    <li>
        <div>
            current_pos: int64_t
        </div>
                <p>当前正在执行混音操作的音频帧时间戳，单位: ms</p>
    </li>
</ul>
</li>
</ul>
</section>
<section class="rtc-doc-panel">
<div class="rtc-doc-page-title rtc-doc-antor" id="OnAudioMusicMixerError">OnAudioMusicMixerError</div>
<ul class="rtc-doc-page-container">
        <li class="rtc-doc-sign-signature">virtual void OnAudioMusicMixerError(int error_code, const std::string& error_message) = 0</li>
    </li>
<li class="rtc-doc-page-description">
    <div class="rtc-doc-desc-wrap">
        <p>混音操作发生错误时会触发此回调</p>
    </div>
    <table class="rtc-doc-code-table">
        <thead>
            <tr>
                <th>code</th>
                <th>describe</th>
                <th>message</th>
            </tr>
        </thead>
        <tbody>
                <tr>
                    <td>Err_Audio_Mixing_Audio_Not_Found</td>
                    <td>混音源没有找到有效音轨</td>
                    <td>请检查混音文件的合法性</td>
                </tr>
                <tr>
                    <td>Err_Audio_Mixing_Decoder_Exception</td>
                    <td>系统不支持混音源中的音频类型</td>
                    <td>支持的音频文件格式为：aac、mp3、mp4、ogg、opus、wav、m4a、flac</td>
                </tr>
                <tr>
                    <td>Err_Audio_Mixing_Seek_Failed</td>
                    <td>seek 失败</td>
                    <td>请检查是否在开始混音前执行了 Seek 操作</td>
                </tr>
                <tr>
                    <td>Err_Audio_Mixing_Resample_Failed</td>
                    <td>重采样模块创建失败</td>
                    <td>请重新尝试混音操作</td>
                </tr>
                <tr>
                    <td>Err_Audio_Mixing_IO_Exception</td>
                    <td>混音源文件 IO 错误</td>
                    <td>请检查混音源文件是否存在异常</td>
                </tr>
        </tbody>
    </table>
<div class="rtc-doc-parameters-title">Parameters</div>
<ul class="rtc-doc-parameters">
    <li>
        <div>
            error_code: int
        </div>
                <p>混音异常时对应的错误码</p>
    </li>
    <li>
        <div>
            error_message: string
        </div>
                <p>混音异常时对应的错误信息</p>
    </li>
</ul>
</li>
</ul>
</section>
</div>


