##  rosterManage

好友管理

- rosterManage
  - [.asyncGetRosterIdList(force)](rosterManage#module_rostermanage__asyncgetrosteridlist)
  - [.asyncGetRosterInfo(roster_id, force)](rosterManage#module_rostermanage__asyncgetrosterinfo)
  - [.asyncRegester(opt)](rosterManage#module_rostermanage__asyncregester)
  - [.asyncDeleteRoster(param)](rosterManage#module_rostermanage__asyncdeleteroster)
  - [.asnycGetRosterListDetailByIds(roster_ids)](rosterManage#module_rostermanage__asnycgetrosterlistdetailbyids)
  - [.getAllRosterDetail()](rosterManage#module_rostermanage__getallrosterdetail)
  - [.asyncGetUserProfile(force)](rosterManage#module_rostermanage__asyncgetuserprofile)
  - [.getRosterMessageByRid(uid)](rosterManage#module_rostermanage__getrostermessagebyrid)
  - [.readRosterMessage(roster_id, mid)](rosterManage#module_rostermanage__readrostermessage)
  - [.recallMessage(uid, mid)](rosterManage#module_rostermanage__recallmessage)
  - [.unreadMessage(uid, mid)](rosterManage#module_rostermanage__unreadmessage)
  - [.deleteMessage(uid, mid)](rosterManage#module_rostermanage__deletemessage)
  - [.getRosterInfo(rid)](rosterManage#module_rostermanage__getrosterinfo)
  - [.getUnreadCount(uid)](rosterManage#module_rostermanage__getunreadcount)
  - [.asyncGetApplyList(params)](rosterManage#module_rostermanage__asyncgetapplylist)
  - [.asyncGetBlockedlist(params)](rosterManage#module_rostermanage__asyncgetblockedlist)
  - [.asyncBlockeAdd(params)](rosterManage#module_rostermanage__asyncblockeadd)
  - [.asyncBlockeRemove(params)](rosterManage#module_rostermanage__asyncblockeremove)
  - [.asyncApply(params)](rosterManage#module_rostermanage__asyncapply)
  - [.asyncAccept(params)](rosterManage#module_rostermanage__asyncaccept)
  - [.asyncDecline(params)](rosterManage#module_rostermanage__asyncdecline)
  - [.asyncUpdateRosterExt(params)](rosterManage#module_rostermanage__asyncupdaterosterext)
  - [.asyncSearchRosterByName(params)](rosterManage#module_rostermanage__asyncsearchrosterbyname)
  - [.asyncSearchRosterById(params)](rosterManage#module_rostermanage__asyncsearchrosterbyid)

### rosterManage.asyncGetRosterIdList(force) ⇒ `Promise.<Array.<number>>`

获取好友id列表

**Kind**: static method of rosterManage
**Returns**: `Promise.<Array.<number>>` - 用户ID列表

| Param | Type      | Description                                                  |
| ----- | --------- | ------------------------------------------------------------ |
| force | `boolean` | 是否强制从服务器拉取：true - 从服务器获取， false - 从本地存储获取 |

### rosterManage.asyncGetRosterInfo(roster_id, force) ⇒ `Promise.<RosterItem>`

获取好友信息

**Kind**: static method of rosterManage
**Returns**: Promise.<RosterItem> - 好友信息

| Param     | Type      | Description                                                  |
| --------- | --------- | ------------------------------------------------------------ |
| roster_id | `number`  | 好友ID                                                       |
| force     | `boolean` | 是否强制从服务器拉取： true - 从服务器拉取， false - 优先从本地存储获取 |

### rosterManage.asyncRegester(opt) ⇒ `Promise.<UserSettings>`

用户注册

**Kind**: static method of rosterManage
**Returns**: Promise.<UserSettings> - 用户设置

| Param        | Type     | Description |
| ------------ | -------- | ----------- |
| opt          | `object` | 用户信息    |
| opt.username | `string` | 用户名      |
| opt.password | `string` | 密码        |

### rosterManage.asyncDeleteRoster(param) ⇒ `Promise.<boolean>`

删除好友

**Kind**: static method of rosterManage
**Returns**: `Promise.<boolean>` - 请求结果

| Param         | Type     | Description  |
| ------------- | -------- | ------------ |
| param         | `object` | 参数         |
| param.user_id | `number` | 好友的用户ID |

### rosterManage.asnycGetRosterListDetailByIds(roster_ids) ⇒ `Promise.<Array.<module:types~RosterItem>>`

根据id列表获取用户详细信息

**Kind**: static method of rosterManage
**Returns**: `Promise.<Array.<module:types~RosterItem>>` - 用户详细信息列表

| Param      | Type             | Description |
| ---------- | ---------------- | ----------- |
| roster_ids | `Array.<number>` | 用户ID列表  |

### rosterManage.getAllRosterDetail() ⇒ `Array.<RosterItem>`

获取缓存的所有用户详细信息

**Kind**: static method of rosterManage
**Returns**: `Array.<RosterItem>` - 用户详细信息列表

### rosterManage.asyncGetUserProfile(force) ⇒ `Promise.<UserProfile>`

获取自己的用户信息

**Kind**: static method of rosterManage
**Returns**: `Promise.<UserProfile>` - 用户信息

| Param | Type      | Description                                                  |
| ----- | --------- | ------------------------------------------------------------ |
| force | `boolean` | 是否强制从服务器拉取： true - 从服务器拉取， false - 优先从本地存储获取 |

### rosterManage.getRosterMessageByRid(uid) ⇒ `Array.<Meta>`

根据会话ID获取聊天消息

**Kind**: static method of rosterManage
**Returns**: `Array.<Meta>` - 聊天消息列表

| Param | Type     | Description |
| ----- | -------- | ----------- |
| uid   | `number` | 会话ID      |

### rosterManage.readRosterMessage(roster_id, mid)

修改消息状态为已读

**Kind**: static method of rosterManage

| Param     | Type     | Description |
| --------- | -------- | ----------- |
| roster_id | `number` | 会话ID      |
| mid       | `number` | 消息ID      |

### rosterManage.recallMessage(uid, mid)

撤回消息，只能撤回5分钟内的

**Kind**: static method of rosterManage

| Param | Type     | Description |
| ----- | -------- | ----------- |
| uid   | `number` | 会话ID      |
| mid   | `number` | 消息ID      |

### rosterManage.unreadMessage(uid, mid)

设置消息成未读

**Kind**: static method of rosterManage

| Param | Type     | Description |
| ----- | -------- | ----------- |
| uid   | `number` | 会话ID      |
| mid   | `number` | 消息ID      |

### rosterManage.deleteMessage(uid, mid)

删除消息

**Kind**: static method of rosterManage

| Param | Type     | Description |
| ----- | -------- | ----------- |
| uid   | `number` | 会话ID      |
| mid   | `number` | 消息ID      |

### rosterManage.getRosterInfo(rid) ⇒ `RosterItem`

获取好友信息

**Kind**: static method of rosterManage
**Returns**: `RosterItem` - 好友信息

| Param | Type     | Description |
| ----- | -------- | ----------- |
| rid   | `number` | 好友ID      |

### rosterManage.getUnreadCount(uid) ⇒ `number`

获取指定会话的未读数

**Kind**: static method of rosterManage
**Returns**: `number` - 未读数

| Param | Type     | Description |
| ----- | -------- | ----------- |
| uid   | `number` | 会话ID      |

### rosterManage.asyncGetApplyList(params) ⇒ `Promise.<Array.<module:types~RosterApplication>>`

获取好友申请列表

**Kind**: static method of rosterManage
**Returns**: `Promise.<Array.<module:types~RosterApplication>>` - 好友申请列表

| Param         | Type     | Description                                |
| ------------- | -------- | ------------------------------------------ |
| params        | `object` | 参数                                       |
| params.cursor | `number` | 从哪开始获取：可以传空字符串表示从头开始取 |

### rosterManage.asyncGetBlockedlist(params) ⇒ `Promise.<Array.<number>>`

获取黑名单

**Kind**: static method of rosterManage
**Returns**: `Promise.<Array.<number>>` - 用户ID列表

| Param  | Type     | Description  |
| ------ | -------- | ------------ |
| params | `object` | 参数：空对象 |

### rosterManage.asyncBlockeAdd(params) ⇒ `Promise.<boolean>`

加入黑名单

**Kind**: static method of rosterManage
**Returns**: `Promise.<boolean>` - 是否成功

| Param          | Type     | Description |
| -------------- | -------- | ----------- |
| params         | `object` | 参数        |
| params.user_id | `number` | 用户ID      |

### rosterManage.asyncBlockeRemove(params) ⇒ `Promise.<boolean>`

移除黑名单

**Kind**: static method of rosterManage
**Returns**: `Promise.<boolean>` - 是否成功

| Param          | Type     | Description |
| -------------- | -------- | ----------- |
| params         | `object` | 参数        |
| params.user_id | `number` | 用户ID      |

### rosterManage.asyncApply(params) ⇒ `Promise.<boolean>`

请求加为好友

**Kind**: static method of rosterManage
**Returns**: `Promise.<boolean>` - 是否成功

| Param          | Type     | Description |
| -------------- | -------- | ----------- |
| params         | `object` | 参数        |
| params.user_id | `number` | 用户ID      |
| params.alias   | `string` | 备注        |

### rosterManage.asyncAccept(params) ⇒ `Promise.<boolean>`

通过好友申请

**Kind**: static method of rosterManage
**Returns**: `Promise.<boolean>` - 是否成功

| Param          | Type     | Description |
| -------------- | -------- | ----------- |
| params         | `object` | 参数        |
| params.user_id | `number` | 用户ID      |

### rosterManage.asyncDecline(params) ⇒ `Promise.<boolean>`

拒绝好友申请

**Kind**: static method of rosterManage
**Returns**: `Promise.<boolean>` - 是否成功

| Param          | Type     | Description |
| -------------- | -------- | ----------- |
| params         | `object` | 参数        |
| params.user_id | `number` | 用户ID      |

### rosterManage.asyncUpdateRosterExt(params) ⇒ `Promise.<boolean>`

修改好友扩展字段

**Kind**: static method of rosterManage
**Returns**: `Promise.<boolean>` - 是否成功

| Param          | Type     | Description |
| -------------- | -------- | ----------- |
| params         | `object` | 参数        |
| params.user_id | `number` | 用户ID      |
| params.ext     | `string` | 扩展字段    |

### rosterManage.asyncSearchRosterByName(params) ⇒ `Promise.<RosterItem>`

按名称搜索用户

**Kind**: static method of rosterManage
**Returns**: `Promise.<RosterItem>` - 用户信息

| Param           | Type     | Description |
| --------------- | -------- | ----------- |
| params          | `object` | 参数        |
| params.username | `string` | 用户名      |

### rosterManage.asyncSearchRosterById(params) ⇒ `Promise.<RosterItem>`

按ID搜索用户

**Kind**: static method of rosterManage
**Returns**: `Promise.<RosterItem>` - 用户信息

| Param          | Type     | Description |
| -------------- | -------- | ----------- |
| params         | `object` | 参数        |
| params.user_id | `number` | 用户ID      |
