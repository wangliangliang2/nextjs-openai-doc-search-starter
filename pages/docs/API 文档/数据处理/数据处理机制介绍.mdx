# 简介

七牛云存储内建了一个非常高效易用的`数据处理框架`。数据处理框架可以对存储在七牛云上的文件执行一系列符合规范的数据处理操作。

**数据处理框架** 对于资源类型没有限制，但是特定的数据处理操作则会有各自适合的处理对象；例如对非图片类型的资源进行缩略图操作，可能会返回错误的结果。

数据处理机制，分为以下三种触发场景：

| 触发场景             | 处理类别   | 说明                                                         |
| -------------------- | ---------- | ------------------------------------------------------------ |
| 访问资源时           | 同步处理   | 只需要在资源URL后加上具体数据操作指令和参数。                |
| 对已有资源，手动触发 | 持久化处理 | 针对已存在空间中的资源手动触发处理流程，与上传时的数据处理支持相同，这个过程也为异步且可查询操作进度。具体请参考[状态查询](https://developer.qiniu.com/dora/1294/persistent-processing-status-query-prefop)。 |
| 资源上传时，自动触发 | 持久化处理 | 上传过程中自动触发数据处理，可在上传策略中设置 `persistentOps` 和`  persistentNotifyUrl ` 字段，在资源上传完成后七牛云存储会以异步的方式执行数据处理操作，并持久化存储数据处理结果。支持查询数据处理操作的进度。具体请参考[状态查询](https://developer.qiniu.com/dora/1294/persistent-processing-status-query-prefop)。 |

下面分别描述这两种数据处理的区别：

- 同步处理：收到处理请求后立刻进行实时计算并返回处理结果, 适用于计算量较小可以快速返回结果的任务。
- 持久化处理：收到处理请求后立刻创建一个异步任务并返回该异步任务ID, 该任务会根据调度策略被最终调度执行完毕, 适用于计算量较大需要较长处理时间的任务。





# **同步处理**

适用于计算量较小可以快速返回结果的资源处理场景，使用 [同步处理](/dora/api/8266/synchronous-processing)。



# **持久化处理**

适用于计算量较大、处理时间较长的资源处理场景，使用 [持久化处理](/dora/api/1291/persistent-data-processing-pfop)。



# **管道**

数据处理命令后，可以使用 [管道](/dora/api/8273/the-pipe) 实现串行处理，即将一个资源经由多个 `<fop>` 串行处理。



# **处理结果另存**

可以通过 [处理结果另存(saveas)](https://developer.qiniu.com/dora/1305/processing-results-save-saveas)，实时保存图片到指定空间。

